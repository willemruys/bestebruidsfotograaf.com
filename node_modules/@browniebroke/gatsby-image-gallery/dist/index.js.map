{"version":3,"file":"index.js","sources":["../../node_modules/react-modal/lib/helpers/tabbable.js","../../node_modules/react-modal/lib/helpers/focusManager.js","../../node_modules/react-modal/lib/helpers/scopeTab.js","../../node_modules/warning/warning.js","../../node_modules/exenv/index.js","../../node_modules/react-modal/lib/helpers/safeHTMLElement.js","../../node_modules/react-modal/lib/helpers/ariaAppHider.js","../../node_modules/react-modal/lib/helpers/classList.js","../../node_modules/react-modal/lib/helpers/portalOpenInstances.js","../../node_modules/react-modal/lib/helpers/bodyTrap.js","../../node_modules/react-modal/lib/components/ModalPortal.js","../../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js","../../node_modules/react-modal/lib/components/Modal.js","../../node_modules/react-modal/lib/index.js","../../node_modules/react-image-lightbox/dist/index.es.js","../src/row.js","../src/column.js","../src/img-wrapper.js","../src/index.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = findTabbableDescendants;\n/*!\n * Adapted from jQuery UI core\n *\n * http://jqueryui.com\n *\n * Copyright 2014 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/ui-core/\n */\n\nvar tabbableNode = /input|select|textarea|button|object/;\n\nfunction hidesContents(element) {\n  var zeroSize = element.offsetWidth <= 0 && element.offsetHeight <= 0;\n\n  // If the node is empty, this is good enough\n  if (zeroSize && !element.innerHTML) return true;\n\n  // Otherwise we need to check some styles\n  var style = window.getComputedStyle(element);\n  return zeroSize ? style.getPropertyValue(\"overflow\") !== \"visible\" ||\n  // if 'overflow: visible' set, check if there is actually any overflow\n  element.scrollWidth <= 0 && element.scrollHeight <= 0 : style.getPropertyValue(\"display\") == \"none\";\n}\n\nfunction visible(element) {\n  var parentElement = element;\n  while (parentElement) {\n    if (parentElement === document.body) break;\n    if (hidesContents(parentElement)) return false;\n    parentElement = parentElement.parentNode;\n  }\n  return true;\n}\n\nfunction focusable(element, isTabIndexNotNaN) {\n  var nodeName = element.nodeName.toLowerCase();\n  var res = tabbableNode.test(nodeName) && !element.disabled || (nodeName === \"a\" ? element.href || isTabIndexNotNaN : isTabIndexNotNaN);\n  return res && visible(element);\n}\n\nfunction tabbable(element) {\n  var tabIndex = element.getAttribute(\"tabindex\");\n  if (tabIndex === null) tabIndex = undefined;\n  var isTabIndexNaN = isNaN(tabIndex);\n  return (isTabIndexNaN || tabIndex >= 0) && focusable(element, !isTabIndexNaN);\n}\n\nfunction findTabbableDescendants(element) {\n  return [].slice.call(element.querySelectorAll(\"*\"), 0).filter(tabbable);\n}\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\n\nvar _tabbable = require(\"../helpers/tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n    if (!modalElement) {\n      return;\n    }\n    // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\n\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n\n/* eslint-disable no-console */\nfunction returnFocus() {\n  var toFocus = null;\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus();\n    }\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\n\nfunction setupScopedFocus(element) {\n  modalElement = element;\n\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\n\nfunction teardownScopedFocus() {\n  modalElement = null;\n\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = scopeTab;\n\nvar _tabbable = require(\"./tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction scopeTab(node, event) {\n  var tabbable = (0, _tabbable2.default)(node);\n\n  if (!tabbable.length) {\n    // Do nothing, since there are no elements that can receive focus.\n    event.preventDefault();\n    return;\n  }\n\n  var target = void 0;\n\n  var shiftKey = event.shiftKey;\n  var head = tabbable[0];\n  var tail = tabbable[tabbable.length - 1];\n\n  // proceed with default browser behavior on tab.\n  // Focus on last element on shift + tab.\n  if (node === document.activeElement) {\n    if (!shiftKey) return;\n    target = tail;\n  }\n\n  if (tail === document.activeElement && !shiftKey) {\n    target = head;\n  }\n\n  if (head === document.activeElement && shiftKey) {\n    target = tail;\n  }\n\n  if (target) {\n    event.preventDefault();\n    target.focus();\n    return;\n  }\n\n  // Safari radio issue.\n  //\n  // Safari does not move the focus to the radio button,\n  // so we need to force it to really walk through all elements.\n  //\n  // This is very error prone, since we are trying to guess\n  // if it is a safari browser from the first occurence between\n  // chrome or safari.\n  //\n  // The chrome user agent contains the first ocurrence\n  // as the 'chrome/version' and later the 'safari/version'.\n  var checkSafari = /(\\bChrome\\b|\\bSafari\\b)\\//.exec(navigator.userAgent);\n  var isSafariDesktop = checkSafari != null && checkSafari[1] != \"Chrome\" && /\\biPod\\b|\\biPad\\b/g.exec(navigator.userAgent) == null;\n\n  // If we are not in safari desktop, let the browser control\n  // the focus\n  if (!isSafariDesktop) return;\n\n  var x = tabbable.indexOf(document.activeElement);\n\n  if (x > -1) {\n    x += shiftKey ? -1 : 1;\n  }\n\n  target = tabbable[x];\n\n  // If the tabbable element does not exist,\n  // focus head/tail based on shiftKey\n  if (typeof target === \"undefined\") {\n    event.preventDefault();\n    target = shiftKey ? tail : head;\n    target.focus();\n    return;\n  }\n\n  event.preventDefault();\n\n  target.focus();\n}\nmodule.exports = exports[\"default\"];","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","/*!\n  Copyright (c) 2015 Jed Watson.\n  Based on code that is Copyright 2013-2015, Facebook, Inc.\n  All rights reserved.\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar canUseDOM = !!(\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.document &&\n\t\twindow.document.createElement\n\t);\n\n\tvar ExecutionEnvironment = {\n\n\t\tcanUseDOM: canUseDOM,\n\n\t\tcanUseWorkers: typeof Worker !== 'undefined',\n\n\t\tcanUseEventListeners:\n\t\t\tcanUseDOM && !!(window.addEventListener || window.attachEvent),\n\n\t\tcanUseViewport: canUseDOM && !!window.screen\n\n\t};\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn ExecutionEnvironment;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = ExecutionEnvironment;\n\t} else {\n\t\twindow.ExecutionEnvironment = ExecutionEnvironment;\n\t}\n\n}());\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.canUseDOM = undefined;\n\nvar _exenv = require(\"exenv\");\n\nvar _exenv2 = _interopRequireDefault(_exenv);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar EE = _exenv2.default;\n\nvar SafeHTMLElement = EE.canUseDOM ? window.HTMLElement : {};\n\nvar canUseDOM = exports.canUseDOM = EE.canUseDOM;\n\nexports.default = SafeHTMLElement;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.assertNodeList = assertNodeList;\nexports.setElement = setElement;\nexports.validateElement = validateElement;\nexports.hide = hide;\nexports.show = show;\nexports.documentNotReadyOrSSRTesting = documentNotReadyOrSSRTesting;\nexports.resetForTesting = resetForTesting;\n\nvar _warning = require(\"warning\");\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _safeHTMLElement = require(\"./safeHTMLElement\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar globalElement = null;\n\nfunction assertNodeList(nodeList, selector) {\n  if (!nodeList || !nodeList.length) {\n    throw new Error(\"react-modal: No elements were found for selector \" + selector + \".\");\n  }\n}\n\nfunction setElement(element) {\n  var useElement = element;\n  if (typeof useElement === \"string\" && _safeHTMLElement.canUseDOM) {\n    var el = document.querySelectorAll(useElement);\n    assertNodeList(el, useElement);\n    useElement = \"length\" in el ? el[0] : el;\n  }\n  globalElement = useElement || globalElement;\n  return globalElement;\n}\n\nfunction validateElement(appElement) {\n  if (!appElement && !globalElement) {\n    (0, _warning2.default)(false, [\"react-modal: App element is not defined.\", \"Please use `Modal.setAppElement(el)` or set `appElement={el}`.\", \"This is needed so screen readers don't see main content\", \"when modal is opened. It is not recommended, but you can opt-out\", \"by setting `ariaHideApp={false}`.\"].join(\" \"));\n\n    return false;\n  }\n\n  return true;\n}\n\nfunction hide(appElement) {\n  if (validateElement(appElement)) {\n    (appElement || globalElement).setAttribute(\"aria-hidden\", \"true\");\n  }\n}\n\nfunction show(appElement) {\n  if (validateElement(appElement)) {\n    (appElement || globalElement).removeAttribute(\"aria-hidden\");\n  }\n}\n\nfunction documentNotReadyOrSSRTesting() {\n  globalElement = null;\n}\n\nfunction resetForTesting() {\n  globalElement = null;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dumpClassLists = dumpClassLists;\nvar htmlClassList = {};\nvar docBodyClassList = {};\n\nfunction dumpClassLists() {\n  if (process.env.NODE_ENV !== \"production\") {\n    var classes = document.getElementsByTagName(\"html\")[0].className;\n    var buffer = \"Show tracked classes:\\n\\n\";\n\n    buffer += \"<html /> (\" + classes + \"):\\n\";\n    for (var x in htmlClassList) {\n      buffer += \"  \" + x + \" \" + htmlClassList[x] + \"\\n\";\n    }\n\n    classes = document.body.className;\n\n    // eslint-disable-next-line max-len\n    buffer += \"\\n\\ndoc.body (\" + classes + \"):\\n\";\n    for (var _x in docBodyClassList) {\n      buffer += \"  \" + _x + \" \" + docBodyClassList[_x] + \"\\n\";\n    }\n\n    buffer += \"\\n\";\n\n    // eslint-disable-next-line no-console\n    console.log(buffer);\n  }\n}\n\n/**\n * Track the number of reference of a class.\n * @param {object} poll The poll to receive the reference.\n * @param {string} className The class name.\n * @return {string}\n */\nvar incrementReference = function incrementReference(poll, className) {\n  if (!poll[className]) {\n    poll[className] = 0;\n  }\n  poll[className] += 1;\n  return className;\n};\n\n/**\n * Drop the reference of a class.\n * @param {object} poll The poll to receive the reference.\n * @param {string} className The class name.\n * @return {string}\n */\nvar decrementReference = function decrementReference(poll, className) {\n  if (poll[className]) {\n    poll[className] -= 1;\n  }\n  return className;\n};\n\n/**\n * Track a class and add to the given class list.\n * @param {Object} classListRef A class list of an element.\n * @param {Object} poll         The poll to be used.\n * @param {Array}  classes      The list of classes to be tracked.\n */\nvar trackClass = function trackClass(classListRef, poll, classes) {\n  classes.forEach(function (className) {\n    incrementReference(poll, className);\n    classListRef.add(className);\n  });\n};\n\n/**\n * Untrack a class and remove from the given class list if the reference\n * reaches 0.\n * @param {Object} classListRef A class list of an element.\n * @param {Object} poll         The poll to be used.\n * @param {Array}  classes      The list of classes to be untracked.\n */\nvar untrackClass = function untrackClass(classListRef, poll, classes) {\n  classes.forEach(function (className) {\n    decrementReference(poll, className);\n    poll[className] === 0 && classListRef.remove(className);\n  });\n};\n\n/**\n * Public inferface to add classes to the document.body.\n * @param {string} bodyClass The class string to be added.\n *                           It may contain more then one class\n *                           with ' ' as separator.\n */\nvar add = exports.add = function add(element, classString) {\n  return trackClass(element.classList, element.nodeName.toLowerCase() == \"html\" ? htmlClassList : docBodyClassList, classString.split(\" \"));\n};\n\n/**\n * Public inferface to remove classes from the document.body.\n * @param {string} bodyClass The class string to be added.\n *                           It may contain more then one class\n *                           with ' ' as separator.\n */\nvar remove = exports.remove = function remove(element, classString) {\n  return untrackClass(element.classList, element.nodeName.toLowerCase() == \"html\" ? htmlClassList : docBodyClassList, classString.split(\" \"));\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Tracks portals that are open and emits events to subscribers\n\nvar PortalOpenInstances = function PortalOpenInstances() {\n  var _this = this;\n\n  _classCallCheck(this, PortalOpenInstances);\n\n  this.register = function (openInstance) {\n    if (_this.openInstances.indexOf(openInstance) !== -1) {\n      if (process.env.NODE_ENV !== \"production\") {\n        // eslint-disable-next-line no-console\n        console.warn(\"React-Modal: Cannot register modal instance that's already open\");\n      }\n      return;\n    }\n    _this.openInstances.push(openInstance);\n    _this.emit(\"register\");\n  };\n\n  this.deregister = function (openInstance) {\n    var index = _this.openInstances.indexOf(openInstance);\n    if (index === -1) {\n      if (process.env.NODE_ENV !== \"production\") {\n        // eslint-disable-next-line no-console\n        console.warn(\"React-Modal: Unable to deregister \" + openInstance + \" as \" + \"it was never registered\");\n      }\n      return;\n    }\n    _this.openInstances.splice(index, 1);\n    _this.emit(\"deregister\");\n  };\n\n  this.subscribe = function (callback) {\n    _this.subscribers.push(callback);\n  };\n\n  this.emit = function (eventType) {\n    _this.subscribers.forEach(function (subscriber) {\n      return subscriber(eventType,\n      // shallow copy to avoid accidental mutation\n      _this.openInstances.slice());\n    });\n  };\n\n  this.openInstances = [];\n  this.subscribers = [];\n};\n\nvar portalOpenInstances = new PortalOpenInstances();\n\nexports.default = portalOpenInstances;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _portalOpenInstances = require(\"./portalOpenInstances\");\n\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Body focus trap see Issue #742\n\nvar before = void 0,\n    after = void 0,\n    instances = [];\n\nfunction focusContent() {\n  if (instances.length === 0) {\n    if (process.env.NODE_ENV !== \"production\") {\n      // eslint-disable-next-line no-console\n      console.warn(\"React-Modal: Open instances > 0 expected\");\n    }\n    return;\n  }\n  instances[instances.length - 1].focusContent();\n}\n\nfunction bodyTrap(eventType, openInstances) {\n  if (!before || !after) {\n    before = document.createElement(\"div\");\n    before.setAttribute(\"data-react-modal-body-trap\", \"\");\n    before.style.position = \"absolute\";\n    before.style.opacity = \"0\";\n    before.setAttribute(\"tabindex\", \"0\");\n    before.addEventListener(\"focus\", focusContent);\n    after = before.cloneNode();\n    after.addEventListener(\"focus\", focusContent);\n  }\n\n  instances = openInstances;\n\n  if (instances.length > 0) {\n    // Add focus trap\n    if (document.body.firstChild !== before) {\n      document.body.insertBefore(before, document.body.firstChild);\n    }\n    if (document.body.lastChild !== after) {\n      document.body.appendChild(after);\n    }\n  } else {\n    // Remove focus trap\n    if (before.parentElement) {\n      before.parentElement.removeChild(before);\n    }\n    if (after.parentElement) {\n      after.parentElement.removeChild(after);\n    }\n  }\n}\n\n_portalOpenInstances2.default.subscribe(bodyTrap);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _focusManager = require(\"../helpers/focusManager\");\n\nvar focusManager = _interopRequireWildcard(_focusManager);\n\nvar _scopeTab = require(\"../helpers/scopeTab\");\n\nvar _scopeTab2 = _interopRequireDefault(_scopeTab);\n\nvar _ariaAppHider = require(\"../helpers/ariaAppHider\");\n\nvar ariaAppHider = _interopRequireWildcard(_ariaAppHider);\n\nvar _classList = require(\"../helpers/classList\");\n\nvar classList = _interopRequireWildcard(_classList);\n\nvar _safeHTMLElement = require(\"../helpers/safeHTMLElement\");\n\nvar _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);\n\nvar _portalOpenInstances = require(\"../helpers/portalOpenInstances\");\n\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n\nrequire(\"../helpers/bodyTrap\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// so that our CSS is statically analyzable\nvar CLASS_NAMES = {\n  overlay: \"ReactModal__Overlay\",\n  content: \"ReactModal__Content\"\n};\n\nvar TAB_KEY = 9;\nvar ESC_KEY = 27;\n\nvar ariaHiddenInstances = 0;\n\nvar ModalPortal = function (_Component) {\n  _inherits(ModalPortal, _Component);\n\n  function ModalPortal(props) {\n    _classCallCheck(this, ModalPortal);\n\n    var _this = _possibleConstructorReturn(this, (ModalPortal.__proto__ || Object.getPrototypeOf(ModalPortal)).call(this, props));\n\n    _this.setOverlayRef = function (overlay) {\n      _this.overlay = overlay;\n      _this.props.overlayRef && _this.props.overlayRef(overlay);\n    };\n\n    _this.setContentRef = function (content) {\n      _this.content = content;\n      _this.props.contentRef && _this.props.contentRef(content);\n    };\n\n    _this.afterClose = function () {\n      var _this$props = _this.props,\n          appElement = _this$props.appElement,\n          ariaHideApp = _this$props.ariaHideApp,\n          htmlOpenClassName = _this$props.htmlOpenClassName,\n          bodyOpenClassName = _this$props.bodyOpenClassName;\n\n      // Remove classes.\n\n      bodyOpenClassName && classList.remove(document.body, bodyOpenClassName);\n\n      htmlOpenClassName && classList.remove(document.getElementsByTagName(\"html\")[0], htmlOpenClassName);\n\n      // Reset aria-hidden attribute if all modals have been removed\n      if (ariaHideApp && ariaHiddenInstances > 0) {\n        ariaHiddenInstances -= 1;\n\n        if (ariaHiddenInstances === 0) {\n          ariaAppHider.show(appElement);\n        }\n      }\n\n      if (_this.props.shouldFocusAfterRender) {\n        if (_this.props.shouldReturnFocusAfterClose) {\n          focusManager.returnFocus();\n          focusManager.teardownScopedFocus();\n        } else {\n          focusManager.popWithoutFocus();\n        }\n      }\n\n      if (_this.props.onAfterClose) {\n        _this.props.onAfterClose();\n      }\n\n      _portalOpenInstances2.default.deregister(_this);\n    };\n\n    _this.open = function () {\n      _this.beforeOpen();\n      if (_this.state.afterOpen && _this.state.beforeClose) {\n        clearTimeout(_this.closeTimer);\n        _this.setState({ beforeClose: false });\n      } else {\n        if (_this.props.shouldFocusAfterRender) {\n          focusManager.setupScopedFocus(_this.node);\n          focusManager.markForFocusLater();\n        }\n\n        _this.setState({ isOpen: true }, function () {\n          _this.setState({ afterOpen: true });\n\n          if (_this.props.isOpen && _this.props.onAfterOpen) {\n            _this.props.onAfterOpen({\n              overlayEl: _this.overlay,\n              contentEl: _this.content\n            });\n          }\n        });\n      }\n    };\n\n    _this.close = function () {\n      if (_this.props.closeTimeoutMS > 0) {\n        _this.closeWithTimeout();\n      } else {\n        _this.closeWithoutTimeout();\n      }\n    };\n\n    _this.focusContent = function () {\n      return _this.content && !_this.contentHasFocus() && _this.content.focus();\n    };\n\n    _this.closeWithTimeout = function () {\n      var closesAt = Date.now() + _this.props.closeTimeoutMS;\n      _this.setState({ beforeClose: true, closesAt: closesAt }, function () {\n        _this.closeTimer = setTimeout(_this.closeWithoutTimeout, _this.state.closesAt - Date.now());\n      });\n    };\n\n    _this.closeWithoutTimeout = function () {\n      _this.setState({\n        beforeClose: false,\n        isOpen: false,\n        afterOpen: false,\n        closesAt: null\n      }, _this.afterClose);\n    };\n\n    _this.handleKeyDown = function (event) {\n      if (event.keyCode === TAB_KEY) {\n        (0, _scopeTab2.default)(_this.content, event);\n      }\n\n      if (_this.props.shouldCloseOnEsc && event.keyCode === ESC_KEY) {\n        event.stopPropagation();\n        _this.requestClose(event);\n      }\n    };\n\n    _this.handleOverlayOnClick = function (event) {\n      if (_this.shouldClose === null) {\n        _this.shouldClose = true;\n      }\n\n      if (_this.shouldClose && _this.props.shouldCloseOnOverlayClick) {\n        if (_this.ownerHandlesClose()) {\n          _this.requestClose(event);\n        } else {\n          _this.focusContent();\n        }\n      }\n      _this.shouldClose = null;\n    };\n\n    _this.handleContentOnMouseUp = function () {\n      _this.shouldClose = false;\n    };\n\n    _this.handleOverlayOnMouseDown = function (event) {\n      if (!_this.props.shouldCloseOnOverlayClick && event.target == _this.overlay) {\n        event.preventDefault();\n      }\n    };\n\n    _this.handleContentOnClick = function () {\n      _this.shouldClose = false;\n    };\n\n    _this.handleContentOnMouseDown = function () {\n      _this.shouldClose = false;\n    };\n\n    _this.requestClose = function (event) {\n      return _this.ownerHandlesClose() && _this.props.onRequestClose(event);\n    };\n\n    _this.ownerHandlesClose = function () {\n      return _this.props.onRequestClose;\n    };\n\n    _this.shouldBeClosed = function () {\n      return !_this.state.isOpen && !_this.state.beforeClose;\n    };\n\n    _this.contentHasFocus = function () {\n      return document.activeElement === _this.content || _this.content.contains(document.activeElement);\n    };\n\n    _this.buildClassName = function (which, additional) {\n      var classNames = (typeof additional === \"undefined\" ? \"undefined\" : _typeof(additional)) === \"object\" ? additional : {\n        base: CLASS_NAMES[which],\n        afterOpen: CLASS_NAMES[which] + \"--after-open\",\n        beforeClose: CLASS_NAMES[which] + \"--before-close\"\n      };\n      var className = classNames.base;\n      if (_this.state.afterOpen) {\n        className = className + \" \" + classNames.afterOpen;\n      }\n      if (_this.state.beforeClose) {\n        className = className + \" \" + classNames.beforeClose;\n      }\n      return typeof additional === \"string\" && additional ? className + \" \" + additional : className;\n    };\n\n    _this.attributesFromObject = function (prefix, items) {\n      return Object.keys(items).reduce(function (acc, name) {\n        acc[prefix + \"-\" + name] = items[name];\n        return acc;\n      }, {});\n    };\n\n    _this.state = {\n      afterOpen: false,\n      beforeClose: false\n    };\n\n    _this.shouldClose = null;\n    _this.moveFromContentToOverlay = null;\n    return _this;\n  }\n\n  _createClass(ModalPortal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.isOpen) {\n        this.open();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (prevProps.bodyOpenClassName !== this.props.bodyOpenClassName) {\n          // eslint-disable-next-line no-console\n          console.warn('React-Modal: \"bodyOpenClassName\" prop has been modified. ' + \"This may cause unexpected behavior when multiple modals are open.\");\n        }\n        if (prevProps.htmlOpenClassName !== this.props.htmlOpenClassName) {\n          // eslint-disable-next-line no-console\n          console.warn('React-Modal: \"htmlOpenClassName\" prop has been modified. ' + \"This may cause unexpected behavior when multiple modals are open.\");\n        }\n      }\n\n      if (this.props.isOpen && !prevProps.isOpen) {\n        this.open();\n      } else if (!this.props.isOpen && prevProps.isOpen) {\n        this.close();\n      }\n\n      // Focus only needs to be set once when the modal is being opened\n      if (this.props.shouldFocusAfterRender && this.state.isOpen && !prevState.isOpen) {\n        this.focusContent();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.state.isOpen) {\n        this.afterClose();\n      }\n      clearTimeout(this.closeTimer);\n    }\n  }, {\n    key: \"beforeOpen\",\n    value: function beforeOpen() {\n      var _props = this.props,\n          appElement = _props.appElement,\n          ariaHideApp = _props.ariaHideApp,\n          htmlOpenClassName = _props.htmlOpenClassName,\n          bodyOpenClassName = _props.bodyOpenClassName;\n\n      // Add classes.\n\n      bodyOpenClassName && classList.add(document.body, bodyOpenClassName);\n\n      htmlOpenClassName && classList.add(document.getElementsByTagName(\"html\")[0], htmlOpenClassName);\n\n      if (ariaHideApp) {\n        ariaHiddenInstances += 1;\n        ariaAppHider.hide(appElement);\n      }\n\n      _portalOpenInstances2.default.register(this);\n    }\n\n    // Don't steal focus from inner elements\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props2 = this.props,\n          id = _props2.id,\n          className = _props2.className,\n          overlayClassName = _props2.overlayClassName,\n          defaultStyles = _props2.defaultStyles;\n\n      var contentStyles = className ? {} : defaultStyles.content;\n      var overlayStyles = overlayClassName ? {} : defaultStyles.overlay;\n\n      return this.shouldBeClosed() ? null : _react2.default.createElement(\n        \"div\",\n        {\n          ref: this.setOverlayRef,\n          className: this.buildClassName(\"overlay\", overlayClassName),\n          style: _extends({}, overlayStyles, this.props.style.overlay),\n          onClick: this.handleOverlayOnClick,\n          onMouseDown: this.handleOverlayOnMouseDown\n        },\n        _react2.default.createElement(\n          \"div\",\n          _extends({\n            id: id,\n            ref: this.setContentRef,\n            style: _extends({}, contentStyles, this.props.style.content),\n            className: this.buildClassName(\"content\", className),\n            tabIndex: \"-1\",\n            onKeyDown: this.handleKeyDown,\n            onMouseDown: this.handleContentOnMouseDown,\n            onMouseUp: this.handleContentOnMouseUp,\n            onClick: this.handleContentOnClick,\n            role: this.props.role,\n            \"aria-label\": this.props.contentLabel\n          }, this.attributesFromObject(\"aria\", this.props.aria || {}), this.attributesFromObject(\"data\", this.props.data || {}), {\n            \"data-testid\": this.props.testId\n          }),\n          this.props.children\n        )\n      );\n    }\n  }]);\n\n  return ModalPortal;\n}(_react.Component);\n\nModalPortal.defaultProps = {\n  style: {\n    overlay: {},\n    content: {}\n  },\n  defaultStyles: {}\n};\nModalPortal.propTypes = {\n  isOpen: _propTypes2.default.bool.isRequired,\n  defaultStyles: _propTypes2.default.shape({\n    content: _propTypes2.default.object,\n    overlay: _propTypes2.default.object\n  }),\n  style: _propTypes2.default.shape({\n    content: _propTypes2.default.object,\n    overlay: _propTypes2.default.object\n  }),\n  className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),\n  overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),\n  bodyOpenClassName: _propTypes2.default.string,\n  htmlOpenClassName: _propTypes2.default.string,\n  ariaHideApp: _propTypes2.default.bool,\n  appElement: _propTypes2.default.instanceOf(_safeHTMLElement2.default),\n  onAfterOpen: _propTypes2.default.func,\n  onAfterClose: _propTypes2.default.func,\n  onRequestClose: _propTypes2.default.func,\n  closeTimeoutMS: _propTypes2.default.number,\n  shouldFocusAfterRender: _propTypes2.default.bool,\n  shouldCloseOnOverlayClick: _propTypes2.default.bool,\n  shouldReturnFocusAfterClose: _propTypes2.default.bool,\n  role: _propTypes2.default.string,\n  contentLabel: _propTypes2.default.string,\n  aria: _propTypes2.default.object,\n  data: _propTypes2.default.object,\n  children: _propTypes2.default.node,\n  shouldCloseOnEsc: _propTypes2.default.bool,\n  overlayRef: _propTypes2.default.func,\n  contentRef: _propTypes2.default.func,\n  id: _propTypes2.default.string,\n  testId: _propTypes2.default.string\n};\nexports.default = ModalPortal;\nmodule.exports = exports[\"default\"];","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\nexport { polyfill };\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bodyOpenClassName = exports.portalClassName = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _ModalPortal = require(\"./ModalPortal\");\n\nvar _ModalPortal2 = _interopRequireDefault(_ModalPortal);\n\nvar _ariaAppHider = require(\"../helpers/ariaAppHider\");\n\nvar ariaAppHider = _interopRequireWildcard(_ariaAppHider);\n\nvar _safeHTMLElement = require(\"../helpers/safeHTMLElement\");\n\nvar _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar portalClassName = exports.portalClassName = \"ReactModalPortal\";\nvar bodyOpenClassName = exports.bodyOpenClassName = \"ReactModal__Body--open\";\n\nvar isReact16 = _reactDom2.default.createPortal !== undefined;\n\nvar getCreatePortal = function getCreatePortal() {\n  return isReact16 ? _reactDom2.default.createPortal : _reactDom2.default.unstable_renderSubtreeIntoContainer;\n};\n\nfunction getParentElement(parentSelector) {\n  return parentSelector();\n}\n\nvar Modal = function (_Component) {\n  _inherits(Modal, _Component);\n\n  function Modal() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Modal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Modal.__proto__ || Object.getPrototypeOf(Modal)).call.apply(_ref, [this].concat(args))), _this), _this.removePortal = function () {\n      !isReact16 && _reactDom2.default.unmountComponentAtNode(_this.node);\n      var parent = getParentElement(_this.props.parentSelector);\n      if (parent) {\n        parent.removeChild(_this.node);\n      } else {\n        // eslint-disable-next-line no-console\n        console.warn('React-Modal: \"parentSelector\" prop did not returned any DOM ' + \"element. Make sure that the parent element is unmounted to \" + \"avoid any memory leaks.\");\n      }\n    }, _this.portalRef = function (ref) {\n      _this.portal = ref;\n    }, _this.renderPortal = function (props) {\n      var createPortal = getCreatePortal();\n      var portal = createPortal(_this, _react2.default.createElement(_ModalPortal2.default, _extends({ defaultStyles: Modal.defaultStyles }, props)), _this.node);\n      _this.portalRef(portal);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Modal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!_safeHTMLElement.canUseDOM) return;\n\n      if (!isReact16) {\n        this.node = document.createElement(\"div\");\n      }\n      this.node.className = this.props.portalClassName;\n\n      var parent = getParentElement(this.props.parentSelector);\n      parent.appendChild(this.node);\n\n      !isReact16 && this.renderPortal(this.props);\n    }\n  }, {\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate(prevProps) {\n      var prevParent = getParentElement(prevProps.parentSelector);\n      var nextParent = getParentElement(this.props.parentSelector);\n      return { prevParent: prevParent, nextParent: nextParent };\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, _, snapshot) {\n      if (!_safeHTMLElement.canUseDOM) return;\n      var _props = this.props,\n          isOpen = _props.isOpen,\n          portalClassName = _props.portalClassName;\n\n\n      if (prevProps.portalClassName !== portalClassName) {\n        this.node.className = portalClassName;\n      }\n\n      var prevParent = snapshot.prevParent,\n          nextParent = snapshot.nextParent;\n\n      if (nextParent !== prevParent) {\n        prevParent.removeChild(this.node);\n        nextParent.appendChild(this.node);\n      }\n\n      // Stop unnecessary renders if modal is remaining closed\n      if (!prevProps.isOpen && !isOpen) return;\n\n      !isReact16 && this.renderPortal(this.props);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (!_safeHTMLElement.canUseDOM || !this.node || !this.portal) return;\n\n      var state = this.portal.state;\n      var now = Date.now();\n      var closesAt = state.isOpen && this.props.closeTimeoutMS && (state.closesAt || now + this.props.closeTimeoutMS);\n\n      if (closesAt) {\n        if (!state.beforeClose) {\n          this.portal.closeWithTimeout();\n        }\n\n        setTimeout(this.removePortal, closesAt - now);\n      } else {\n        this.removePortal();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!_safeHTMLElement.canUseDOM || !isReact16) {\n        return null;\n      }\n\n      if (!this.node && isReact16) {\n        this.node = document.createElement(\"div\");\n      }\n\n      var createPortal = getCreatePortal();\n      return createPortal(_react2.default.createElement(_ModalPortal2.default, _extends({\n        ref: this.portalRef,\n        defaultStyles: Modal.defaultStyles\n      }, this.props)), this.node);\n    }\n  }], [{\n    key: \"setAppElement\",\n    value: function setAppElement(element) {\n      ariaAppHider.setElement(element);\n    }\n\n    /* eslint-disable react/no-unused-prop-types */\n\n    /* eslint-enable react/no-unused-prop-types */\n\n  }]);\n\n  return Modal;\n}(_react.Component);\n\nModal.propTypes = {\n  isOpen: _propTypes2.default.bool.isRequired,\n  style: _propTypes2.default.shape({\n    content: _propTypes2.default.object,\n    overlay: _propTypes2.default.object\n  }),\n  portalClassName: _propTypes2.default.string,\n  bodyOpenClassName: _propTypes2.default.string,\n  htmlOpenClassName: _propTypes2.default.string,\n  className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({\n    base: _propTypes2.default.string.isRequired,\n    afterOpen: _propTypes2.default.string.isRequired,\n    beforeClose: _propTypes2.default.string.isRequired\n  })]),\n  overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({\n    base: _propTypes2.default.string.isRequired,\n    afterOpen: _propTypes2.default.string.isRequired,\n    beforeClose: _propTypes2.default.string.isRequired\n  })]),\n  appElement: _propTypes2.default.instanceOf(_safeHTMLElement2.default),\n  onAfterOpen: _propTypes2.default.func,\n  onRequestClose: _propTypes2.default.func,\n  closeTimeoutMS: _propTypes2.default.number,\n  ariaHideApp: _propTypes2.default.bool,\n  shouldFocusAfterRender: _propTypes2.default.bool,\n  shouldCloseOnOverlayClick: _propTypes2.default.bool,\n  shouldReturnFocusAfterClose: _propTypes2.default.bool,\n  parentSelector: _propTypes2.default.func,\n  aria: _propTypes2.default.object,\n  data: _propTypes2.default.object,\n  role: _propTypes2.default.string,\n  contentLabel: _propTypes2.default.string,\n  shouldCloseOnEsc: _propTypes2.default.bool,\n  overlayRef: _propTypes2.default.func,\n  contentRef: _propTypes2.default.func\n};\nModal.defaultProps = {\n  isOpen: false,\n  portalClassName: portalClassName,\n  bodyOpenClassName: bodyOpenClassName,\n  role: \"dialog\",\n  ariaHideApp: true,\n  closeTimeoutMS: 0,\n  shouldFocusAfterRender: true,\n  shouldCloseOnEsc: true,\n  shouldCloseOnOverlayClick: true,\n  shouldReturnFocusAfterClose: true,\n  parentSelector: function parentSelector() {\n    return document.body;\n  }\n};\nModal.defaultStyles = {\n  overlay: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: \"rgba(255, 255, 255, 0.75)\"\n  },\n  content: {\n    position: \"absolute\",\n    top: \"40px\",\n    left: \"40px\",\n    right: \"40px\",\n    bottom: \"40px\",\n    border: \"1px solid #ccc\",\n    background: \"#fff\",\n    overflow: \"auto\",\n    WebkitOverflowScrolling: \"touch\",\n    borderRadius: \"4px\",\n    outline: \"none\",\n    padding: \"20px\"\n  }\n};\n\n\n(0, _reactLifecyclesCompat.polyfill)(Modal);\n\nexports.default = Modal;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Modal = require(\"./components/Modal\");\n\nvar _Modal2 = _interopRequireDefault(_Modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _Modal2.default;\nmodule.exports = exports[\"default\"];","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from 'react-modal';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\n/**\n * Placeholder for future translate functionality\n */\nfunction translate(str) {\n  var replaceStrings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  if (!str) {\n    return '';\n  }\n\n  var translated = str;\n\n  if (replaceStrings) {\n    Object.keys(replaceStrings).forEach(function (placeholder) {\n      translated = translated.replace(placeholder, replaceStrings[placeholder]);\n    });\n  }\n\n  return translated;\n}\nfunction getWindowWidth() {\n  return typeof global.window !== 'undefined' ? global.window.innerWidth : 0;\n}\nfunction getWindowHeight() {\n  return typeof global.window !== 'undefined' ? global.window.innerHeight : 0;\n} // Get the highest window context that isn't cross-origin\n// (When in an iframe)\n\nfunction getHighestSafeWindowContext() {\n  var self = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : global.window.self;\n  var referrer = self.document.referrer; // If we reached the top level, return self\n\n  if (self === global.window.top || !referrer) {\n    return self;\n  }\n\n  var getOrigin = function getOrigin(href) {\n    return href.match(/(.*\\/\\/.*?)(\\/|$)/)[1];\n  }; // If parent is the same origin, we can move up one context\n  // Reference: https://stackoverflow.com/a/21965342/1601953\n\n\n  if (getOrigin(self.location.href) === getOrigin(referrer)) {\n    return getHighestSafeWindowContext(self.parent);\n  } // If a different origin, we consider the current level\n  // as the top reachable one\n\n\n  return self;\n}\n\n// Min image zoom level\nvar MIN_ZOOM_LEVEL = 0; // Max image zoom level\n\nvar MAX_ZOOM_LEVEL = 300; // Size ratio between previous and next zoom levels\n\nvar ZOOM_RATIO = 1.007; // How much to increase/decrease the zoom level when the zoom buttons are clicked\n\nvar ZOOM_BUTTON_INCREMENT_SIZE = 100; // Used to judge the amount of horizontal scroll needed to initiate a image move\n\nvar WHEEL_MOVE_X_THRESHOLD = 200; // Used to judge the amount of vertical scroll needed to initiate a zoom action\n\nvar WHEEL_MOVE_Y_THRESHOLD = 1;\nvar KEYS = {\n  ESC: 27,\n  LEFT_ARROW: 37,\n  RIGHT_ARROW: 39\n}; // Actions\n\nvar ACTION_NONE = 0;\nvar ACTION_MOVE = 1;\nvar ACTION_SWIPE = 2;\nvar ACTION_PINCH = 3;\n\nvar SOURCE_ANY = 0;\nvar SOURCE_MOUSE = 1;\nvar SOURCE_TOUCH = 2;\nvar SOURCE_POINTER = 3; // Minimal swipe distance\n\nvar MIN_SWIPE_DISTANCE = 200;\n\nvar ReactImageLightbox =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ReactImageLightbox, _Component);\n\n  _createClass(ReactImageLightbox, null, [{\n    key: \"isTargetMatchImage\",\n    value: function isTargetMatchImage(target) {\n      return target && /ril-image-current/.test(target.className);\n    }\n  }, {\n    key: \"parseMouseEvent\",\n    value: function parseMouseEvent(mouseEvent) {\n      return {\n        id: 'mouse',\n        source: SOURCE_MOUSE,\n        x: parseInt(mouseEvent.clientX, 10),\n        y: parseInt(mouseEvent.clientY, 10)\n      };\n    }\n  }, {\n    key: \"parseTouchPointer\",\n    value: function parseTouchPointer(touchPointer) {\n      return {\n        id: touchPointer.identifier,\n        source: SOURCE_TOUCH,\n        x: parseInt(touchPointer.clientX, 10),\n        y: parseInt(touchPointer.clientY, 10)\n      };\n    }\n  }, {\n    key: \"parsePointerEvent\",\n    value: function parsePointerEvent(pointerEvent) {\n      return {\n        id: pointerEvent.pointerId,\n        source: SOURCE_POINTER,\n        x: parseInt(pointerEvent.clientX, 10),\n        y: parseInt(pointerEvent.clientY, 10)\n      };\n    } // Request to transition to the previous image\n\n  }, {\n    key: \"getTransform\",\n    value: function getTransform(_ref) {\n      var _ref$x = _ref.x,\n          x = _ref$x === void 0 ? 0 : _ref$x,\n          _ref$y = _ref.y,\n          y = _ref$y === void 0 ? 0 : _ref$y,\n          _ref$zoom = _ref.zoom,\n          zoom = _ref$zoom === void 0 ? 1 : _ref$zoom,\n          width = _ref.width,\n          targetWidth = _ref.targetWidth;\n      var nextX = x;\n      var windowWidth = getWindowWidth();\n\n      if (width > windowWidth) {\n        nextX += (windowWidth - width) / 2;\n      }\n\n      var scaleFactor = zoom * (targetWidth / width);\n      return {\n        transform: \"translate3d(\".concat(nextX, \"px,\").concat(y, \"px,0) scale3d(\").concat(scaleFactor, \",\").concat(scaleFactor, \",1)\")\n      };\n    }\n  }]);\n\n  function ReactImageLightbox(props) {\n    var _this;\n\n    _classCallCheck(this, ReactImageLightbox);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactImageLightbox).call(this, props));\n    _this.state = {\n      //-----------------------------\n      // Animation\n      //-----------------------------\n      // Lightbox is closing\n      // When Lightbox is mounted, if animation is enabled it will open with the reverse of the closing animation\n      isClosing: !props.animationDisabled,\n      // Component parts should animate (e.g., when images are moving, or image is being zoomed)\n      shouldAnimate: false,\n      //-----------------------------\n      // Zoom settings\n      //-----------------------------\n      // Zoom level of image\n      zoomLevel: MIN_ZOOM_LEVEL,\n      //-----------------------------\n      // Image position settings\n      //-----------------------------\n      // Horizontal offset from center\n      offsetX: 0,\n      // Vertical offset from center\n      offsetY: 0,\n      // image load error for srcType\n      loadErrorStatus: {}\n    }; // Refs\n\n    _this.outerEl = React.createRef();\n    _this.zoomInBtn = React.createRef();\n    _this.zoomOutBtn = React.createRef();\n    _this.caption = React.createRef();\n    _this.closeIfClickInner = _this.closeIfClickInner.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleImageDoubleClick = _this.handleImageDoubleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleImageMouseWheel = _this.handleImageMouseWheel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleKeyInput = _this.handleKeyInput.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleMouseUp = _this.handleMouseUp.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleMouseDown = _this.handleMouseDown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleMouseMove = _this.handleMouseMove.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleOuterMousewheel = _this.handleOuterMousewheel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTouchStart = _this.handleTouchStart.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTouchMove = _this.handleTouchMove.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTouchEnd = _this.handleTouchEnd.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePointerEvent = _this.handlePointerEvent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCaptionMousewheel = _this.handleCaptionMousewheel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleWindowResize = _this.handleWindowResize.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleZoomInButtonClick = _this.handleZoomInButtonClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleZoomOutButtonClick = _this.handleZoomOutButtonClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.requestClose = _this.requestClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.requestMoveNext = _this.requestMoveNext.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.requestMovePrev = _this.requestMovePrev.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ReactImageLightbox, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      // Timeouts - always clear it before umount\n      this.timeouts = []; // Current action\n\n      this.currentAction = ACTION_NONE; // Events source\n\n      this.eventsSource = SOURCE_ANY; // Empty pointers list\n\n      this.pointerList = []; // Prevent inner close\n\n      this.preventInnerClose = false;\n      this.preventInnerCloseTimeout = null; // Used to disable animation when changing props.mainSrc|nextSrc|prevSrc\n\n      this.keyPressed = false; // Used to store load state / dimensions of images\n\n      this.imageCache = {}; // Time the last keydown event was called (used in keyboard action rate limiting)\n\n      this.lastKeyDownTime = 0; // Used for debouncing window resize event\n\n      this.resizeTimeout = null; // Used to determine when actions are triggered by the scroll wheel\n\n      this.wheelActionTimeout = null;\n      this.resetScrollTimeout = null;\n      this.scrollX = 0;\n      this.scrollY = 0; // Used in panning zoomed images\n\n      this.moveStartX = 0;\n      this.moveStartY = 0;\n      this.moveStartOffsetX = 0;\n      this.moveStartOffsetY = 0; // Used to swipe\n\n      this.swipeStartX = 0;\n      this.swipeStartY = 0;\n      this.swipeEndX = 0;\n      this.swipeEndY = 0; // Used to pinch\n\n      this.pinchTouchList = null;\n      this.pinchDistance = 0; // Used to differentiate between images with identical src\n\n      this.keyCounter = 0; // Used to detect a move when all src's remain unchanged (four or more of the same image in a row)\n\n      this.moveRequested = false;\n\n      if (!this.props.animationDisabled) {\n        // Make opening animation play\n        this.setState({\n          isClosing: false\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // Prevents cross-origin errors when using a cross-origin iframe\n      this.windowContext = getHighestSafeWindowContext();\n      this.listeners = {\n        resize: this.handleWindowResize,\n        mouseup: this.handleMouseUp,\n        touchend: this.handleTouchEnd,\n        touchcancel: this.handleTouchEnd,\n        pointerdown: this.handlePointerEvent,\n        pointermove: this.handlePointerEvent,\n        pointerup: this.handlePointerEvent,\n        pointercancel: this.handlePointerEvent\n      };\n      Object.keys(this.listeners).forEach(function (type) {\n        _this2.windowContext.addEventListener(type, _this2.listeners[type]);\n      });\n      this.loadAllImages();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      // Iterate through the source types for prevProps and nextProps to\n      //  determine if any of the sources changed\n      var sourcesChanged = false;\n      var prevSrcDict = {};\n      var nextSrcDict = {};\n      this.getSrcTypes().forEach(function (srcType) {\n        if (_this3.props[srcType.name] !== nextProps[srcType.name]) {\n          sourcesChanged = true;\n          prevSrcDict[_this3.props[srcType.name]] = true;\n          nextSrcDict[nextProps[srcType.name]] = true;\n        }\n      });\n\n      if (sourcesChanged || this.moveRequested) {\n        // Reset the loaded state for images not rendered next\n        Object.keys(prevSrcDict).forEach(function (prevSrc) {\n          if (!(prevSrc in nextSrcDict) && prevSrc in _this3.imageCache) {\n            _this3.imageCache[prevSrc].loaded = false;\n          }\n        });\n        this.moveRequested = false; // Load any new images\n\n        this.loadAllImages(nextProps);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate() {\n      // Wait for move...\n      return !this.moveRequested;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this4 = this;\n\n      this.didUnmount = true;\n      Object.keys(this.listeners).forEach(function (type) {\n        _this4.windowContext.removeEventListener(type, _this4.listeners[type]);\n      });\n      this.timeouts.forEach(function (tid) {\n        return clearTimeout(tid);\n      });\n    }\n  }, {\n    key: \"setTimeout\",\n    value: function (_setTimeout) {\n      function setTimeout(_x, _x2) {\n        return _setTimeout.apply(this, arguments);\n      }\n\n      setTimeout.toString = function () {\n        return _setTimeout.toString();\n      };\n\n      return setTimeout;\n    }(function (func, time) {\n      var _this5 = this;\n\n      var id = setTimeout(function () {\n        _this5.timeouts = _this5.timeouts.filter(function (tid) {\n          return tid !== id;\n        });\n        func();\n      }, time);\n      this.timeouts.push(id);\n      return id;\n    })\n  }, {\n    key: \"setPreventInnerClose\",\n    value: function setPreventInnerClose() {\n      var _this6 = this;\n\n      if (this.preventInnerCloseTimeout) {\n        this.clearTimeout(this.preventInnerCloseTimeout);\n      }\n\n      this.preventInnerClose = true;\n      this.preventInnerCloseTimeout = this.setTimeout(function () {\n        _this6.preventInnerClose = false;\n        _this6.preventInnerCloseTimeout = null;\n      }, 100);\n    } // Get info for the best suited image to display with the given srcType\n\n  }, {\n    key: \"getBestImageForType\",\n    value: function getBestImageForType(srcType) {\n      var imageSrc = this.props[srcType];\n      var fitSizes = {};\n\n      if (this.isImageLoaded(imageSrc)) {\n        // Use full-size image if available\n        fitSizes = this.getFitSizes(this.imageCache[imageSrc].width, this.imageCache[imageSrc].height);\n      } else if (this.isImageLoaded(this.props[\"\".concat(srcType, \"Thumbnail\")])) {\n        // Fall back to using thumbnail if the image has not been loaded\n        imageSrc = this.props[\"\".concat(srcType, \"Thumbnail\")];\n        fitSizes = this.getFitSizes(this.imageCache[imageSrc].width, this.imageCache[imageSrc].height, true);\n      } else {\n        return null;\n      }\n\n      return {\n        src: imageSrc,\n        height: this.imageCache[imageSrc].height,\n        width: this.imageCache[imageSrc].width,\n        targetHeight: fitSizes.height,\n        targetWidth: fitSizes.width\n      };\n    } // Get sizing for when an image is larger than the window\n\n  }, {\n    key: \"getFitSizes\",\n    value: function getFitSizes(width, height, stretch) {\n      var boxSize = this.getLightboxRect();\n      var maxHeight = boxSize.height - this.props.imagePadding * 2;\n      var maxWidth = boxSize.width - this.props.imagePadding * 2;\n\n      if (!stretch) {\n        maxHeight = Math.min(maxHeight, height);\n        maxWidth = Math.min(maxWidth, width);\n      }\n\n      var maxRatio = maxWidth / maxHeight;\n      var srcRatio = width / height;\n\n      if (maxRatio > srcRatio) {\n        // height is the constraining dimension of the photo\n        return {\n          width: width * maxHeight / height,\n          height: maxHeight\n        };\n      }\n\n      return {\n        width: maxWidth,\n        height: height * maxWidth / width\n      };\n    }\n  }, {\n    key: \"getMaxOffsets\",\n    value: function getMaxOffsets() {\n      var zoomLevel = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.zoomLevel;\n      var currentImageInfo = this.getBestImageForType('mainSrc');\n\n      if (currentImageInfo === null) {\n        return {\n          maxX: 0,\n          minX: 0,\n          maxY: 0,\n          minY: 0\n        };\n      }\n\n      var boxSize = this.getLightboxRect();\n      var zoomMultiplier = this.getZoomMultiplier(zoomLevel);\n      var maxX = 0;\n\n      if (zoomMultiplier * currentImageInfo.width - boxSize.width < 0) {\n        // if there is still blank space in the X dimension, don't limit except to the opposite edge\n        maxX = (boxSize.width - zoomMultiplier * currentImageInfo.width) / 2;\n      } else {\n        maxX = (zoomMultiplier * currentImageInfo.width - boxSize.width) / 2;\n      }\n\n      var maxY = 0;\n\n      if (zoomMultiplier * currentImageInfo.height - boxSize.height < 0) {\n        // if there is still blank space in the Y dimension, don't limit except to the opposite edge\n        maxY = (boxSize.height - zoomMultiplier * currentImageInfo.height) / 2;\n      } else {\n        maxY = (zoomMultiplier * currentImageInfo.height - boxSize.height) / 2;\n      }\n\n      return {\n        maxX: maxX,\n        maxY: maxY,\n        minX: -1 * maxX,\n        minY: -1 * maxY\n      };\n    } // Get image src types\n\n  }, {\n    key: \"getSrcTypes\",\n    value: function getSrcTypes() {\n      return [{\n        name: 'mainSrc',\n        keyEnding: \"i\".concat(this.keyCounter)\n      }, {\n        name: 'mainSrcThumbnail',\n        keyEnding: \"t\".concat(this.keyCounter)\n      }, {\n        name: 'nextSrc',\n        keyEnding: \"i\".concat(this.keyCounter + 1)\n      }, {\n        name: 'nextSrcThumbnail',\n        keyEnding: \"t\".concat(this.keyCounter + 1)\n      }, {\n        name: 'prevSrc',\n        keyEnding: \"i\".concat(this.keyCounter - 1)\n      }, {\n        name: 'prevSrcThumbnail',\n        keyEnding: \"t\".concat(this.keyCounter - 1)\n      }];\n    }\n    /**\n     * Get sizing when the image is scaled\n     */\n\n  }, {\n    key: \"getZoomMultiplier\",\n    value: function getZoomMultiplier() {\n      var zoomLevel = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.zoomLevel;\n      return Math.pow(ZOOM_RATIO, zoomLevel);\n    }\n    /**\n     * Get the size of the lightbox in pixels\n     */\n\n  }, {\n    key: \"getLightboxRect\",\n    value: function getLightboxRect() {\n      if (this.outerEl.current) {\n        return this.outerEl.current.getBoundingClientRect();\n      }\n\n      return {\n        width: getWindowWidth(),\n        height: getWindowHeight(),\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n      };\n    }\n  }, {\n    key: \"clearTimeout\",\n    value: function (_clearTimeout) {\n      function clearTimeout(_x3) {\n        return _clearTimeout.apply(this, arguments);\n      }\n\n      clearTimeout.toString = function () {\n        return _clearTimeout.toString();\n      };\n\n      return clearTimeout;\n    }(function (id) {\n      this.timeouts = this.timeouts.filter(function (tid) {\n        return tid !== id;\n      });\n      clearTimeout(id);\n    }) // Change zoom level\n\n  }, {\n    key: \"changeZoom\",\n    value: function changeZoom(zoomLevel, clientX, clientY) {\n      // Ignore if zoom disabled\n      if (!this.props.enableZoom) {\n        return;\n      } // Constrain zoom level to the set bounds\n\n\n      var nextZoomLevel = Math.max(MIN_ZOOM_LEVEL, Math.min(MAX_ZOOM_LEVEL, zoomLevel)); // Ignore requests that don't change the zoom level\n\n      if (nextZoomLevel === this.state.zoomLevel) {\n        return;\n      }\n\n      if (nextZoomLevel === MIN_ZOOM_LEVEL) {\n        // Snap back to center if zoomed all the way out\n        this.setState({\n          zoomLevel: nextZoomLevel,\n          offsetX: 0,\n          offsetY: 0\n        });\n        return;\n      }\n\n      var imageBaseSize = this.getBestImageForType('mainSrc');\n\n      if (imageBaseSize === null) {\n        return;\n      }\n\n      var currentZoomMultiplier = this.getZoomMultiplier();\n      var nextZoomMultiplier = this.getZoomMultiplier(nextZoomLevel); // Default to the center of the image to zoom when no mouse position specified\n\n      var boxRect = this.getLightboxRect();\n      var pointerX = typeof clientX !== 'undefined' ? clientX - boxRect.left : boxRect.width / 2;\n      var pointerY = typeof clientY !== 'undefined' ? clientY - boxRect.top : boxRect.height / 2;\n      var currentImageOffsetX = (boxRect.width - imageBaseSize.width * currentZoomMultiplier) / 2;\n      var currentImageOffsetY = (boxRect.height - imageBaseSize.height * currentZoomMultiplier) / 2;\n      var currentImageRealOffsetX = currentImageOffsetX - this.state.offsetX;\n      var currentImageRealOffsetY = currentImageOffsetY - this.state.offsetY;\n      var currentPointerXRelativeToImage = (pointerX - currentImageRealOffsetX) / currentZoomMultiplier;\n      var currentPointerYRelativeToImage = (pointerY - currentImageRealOffsetY) / currentZoomMultiplier;\n      var nextImageRealOffsetX = pointerX - currentPointerXRelativeToImage * nextZoomMultiplier;\n      var nextImageRealOffsetY = pointerY - currentPointerYRelativeToImage * nextZoomMultiplier;\n      var nextImageOffsetX = (boxRect.width - imageBaseSize.width * nextZoomMultiplier) / 2;\n      var nextImageOffsetY = (boxRect.height - imageBaseSize.height * nextZoomMultiplier) / 2;\n      var nextOffsetX = nextImageOffsetX - nextImageRealOffsetX;\n      var nextOffsetY = nextImageOffsetY - nextImageRealOffsetY; // When zooming out, limit the offset so things don't get left askew\n\n      if (this.currentAction !== ACTION_PINCH) {\n        var maxOffsets = this.getMaxOffsets();\n\n        if (this.state.zoomLevel > nextZoomLevel) {\n          nextOffsetX = Math.max(maxOffsets.minX, Math.min(maxOffsets.maxX, nextOffsetX));\n          nextOffsetY = Math.max(maxOffsets.minY, Math.min(maxOffsets.maxY, nextOffsetY));\n        }\n      }\n\n      this.setState({\n        zoomLevel: nextZoomLevel,\n        offsetX: nextOffsetX,\n        offsetY: nextOffsetY\n      });\n    }\n  }, {\n    key: \"closeIfClickInner\",\n    value: function closeIfClickInner(event) {\n      if (!this.preventInnerClose && event.target.className.search(/\\bril-inner\\b/) > -1) {\n        this.requestClose(event);\n      }\n    }\n    /**\n     * Handle user keyboard actions\n     */\n\n  }, {\n    key: \"handleKeyInput\",\n    value: function handleKeyInput(event) {\n      event.stopPropagation(); // Ignore key input during animations\n\n      if (this.isAnimating()) {\n        return;\n      } // Allow slightly faster navigation through the images when user presses keys repeatedly\n\n\n      if (event.type === 'keyup') {\n        this.lastKeyDownTime -= this.props.keyRepeatKeyupBonus;\n        return;\n      }\n\n      var keyCode = event.which || event.keyCode; // Ignore key presses that happen too close to each other (when rapid fire key pressing or holding down the key)\n      // But allow it if it's a lightbox closing action\n\n      var currentTime = new Date();\n\n      if (currentTime.getTime() - this.lastKeyDownTime < this.props.keyRepeatLimit && keyCode !== KEYS.ESC) {\n        return;\n      }\n\n      this.lastKeyDownTime = currentTime.getTime();\n\n      switch (keyCode) {\n        // ESC key closes the lightbox\n        case KEYS.ESC:\n          event.preventDefault();\n          this.requestClose(event);\n          break;\n        // Left arrow key moves to previous image\n\n        case KEYS.LEFT_ARROW:\n          if (!this.props.prevSrc) {\n            return;\n          }\n\n          event.preventDefault();\n          this.keyPressed = true;\n          this.requestMovePrev(event);\n          break;\n        // Right arrow key moves to next image\n\n        case KEYS.RIGHT_ARROW:\n          if (!this.props.nextSrc) {\n            return;\n          }\n\n          event.preventDefault();\n          this.keyPressed = true;\n          this.requestMoveNext(event);\n          break;\n      }\n    }\n    /**\n     * Handle a mouse wheel event over the lightbox container\n     */\n\n  }, {\n    key: \"handleOuterMousewheel\",\n    value: function handleOuterMousewheel(event) {\n      var _this7 = this;\n\n      // Prevent scrolling of the background\n      event.stopPropagation();\n      var xThreshold = WHEEL_MOVE_X_THRESHOLD;\n      var actionDelay = 0;\n      var imageMoveDelay = 500;\n      this.clearTimeout(this.resetScrollTimeout);\n      this.resetScrollTimeout = this.setTimeout(function () {\n        _this7.scrollX = 0;\n        _this7.scrollY = 0;\n      }, 300); // Prevent rapid-fire zoom behavior\n\n      if (this.wheelActionTimeout !== null || this.isAnimating()) {\n        return;\n      }\n\n      if (Math.abs(event.deltaY) < Math.abs(event.deltaX)) {\n        // handle horizontal scrolls with image moves\n        this.scrollY = 0;\n        this.scrollX += event.deltaX;\n        var bigLeapX = xThreshold / 2; // If the scroll amount has accumulated sufficiently, or a large leap was taken\n\n        if (this.scrollX >= xThreshold || event.deltaX >= bigLeapX) {\n          // Scroll right moves to next\n          this.requestMoveNext(event);\n          actionDelay = imageMoveDelay;\n          this.scrollX = 0;\n        } else if (this.scrollX <= -1 * xThreshold || event.deltaX <= -1 * bigLeapX) {\n          // Scroll left moves to previous\n          this.requestMovePrev(event);\n          actionDelay = imageMoveDelay;\n          this.scrollX = 0;\n        }\n      } // Allow successive actions after the set delay\n\n\n      if (actionDelay !== 0) {\n        this.wheelActionTimeout = this.setTimeout(function () {\n          _this7.wheelActionTimeout = null;\n        }, actionDelay);\n      }\n    }\n  }, {\n    key: \"handleImageMouseWheel\",\n    value: function handleImageMouseWheel(event) {\n      var yThreshold = WHEEL_MOVE_Y_THRESHOLD;\n\n      if (Math.abs(event.deltaY) >= Math.abs(event.deltaX)) {\n        event.stopPropagation(); // If the vertical scroll amount was large enough, perform a zoom\n\n        if (Math.abs(event.deltaY) < yThreshold) {\n          return;\n        }\n\n        this.scrollX = 0;\n        this.scrollY += event.deltaY;\n        this.changeZoom(this.state.zoomLevel - event.deltaY, event.clientX, event.clientY);\n      }\n    }\n    /**\n     * Handle a double click on the current image\n     */\n\n  }, {\n    key: \"handleImageDoubleClick\",\n    value: function handleImageDoubleClick(event) {\n      if (this.state.zoomLevel > MIN_ZOOM_LEVEL) {\n        // A double click when zoomed in zooms all the way out\n        this.changeZoom(MIN_ZOOM_LEVEL, event.clientX, event.clientY);\n      } else {\n        // A double click when zoomed all the way out zooms in\n        this.changeZoom(this.state.zoomLevel + ZOOM_BUTTON_INCREMENT_SIZE, event.clientX, event.clientY);\n      }\n    }\n  }, {\n    key: \"shouldHandleEvent\",\n    value: function shouldHandleEvent(source) {\n      if (this.eventsSource === source) {\n        return true;\n      }\n\n      if (this.eventsSource === SOURCE_ANY) {\n        this.eventsSource = source;\n        return true;\n      }\n\n      switch (source) {\n        case SOURCE_MOUSE:\n          return false;\n\n        case SOURCE_TOUCH:\n          this.eventsSource = SOURCE_TOUCH;\n          this.filterPointersBySource();\n          return true;\n\n        case SOURCE_POINTER:\n          if (this.eventsSource === SOURCE_MOUSE) {\n            this.eventsSource = SOURCE_POINTER;\n            this.filterPointersBySource();\n            return true;\n          }\n\n          return false;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"addPointer\",\n    value: function addPointer(pointer) {\n      this.pointerList.push(pointer);\n    }\n  }, {\n    key: \"removePointer\",\n    value: function removePointer(pointer) {\n      this.pointerList = this.pointerList.filter(function (_ref2) {\n        var id = _ref2.id;\n        return id !== pointer.id;\n      });\n    }\n  }, {\n    key: \"filterPointersBySource\",\n    value: function filterPointersBySource() {\n      var _this8 = this;\n\n      this.pointerList = this.pointerList.filter(function (_ref3) {\n        var source = _ref3.source;\n        return source === _this8.eventsSource;\n      });\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(event) {\n      if (this.shouldHandleEvent(SOURCE_MOUSE) && ReactImageLightbox.isTargetMatchImage(event.target)) {\n        this.addPointer(ReactImageLightbox.parseMouseEvent(event));\n        this.multiPointerStart(event);\n      }\n    }\n  }, {\n    key: \"handleMouseMove\",\n    value: function handleMouseMove(event) {\n      if (this.shouldHandleEvent(SOURCE_MOUSE)) {\n        this.multiPointerMove(event, [ReactImageLightbox.parseMouseEvent(event)]);\n      }\n    }\n  }, {\n    key: \"handleMouseUp\",\n    value: function handleMouseUp(event) {\n      if (this.shouldHandleEvent(SOURCE_MOUSE)) {\n        this.removePointer(ReactImageLightbox.parseMouseEvent(event));\n        this.multiPointerEnd(event);\n      }\n    }\n  }, {\n    key: \"handlePointerEvent\",\n    value: function handlePointerEvent(event) {\n      if (this.shouldHandleEvent(SOURCE_POINTER)) {\n        switch (event.type) {\n          case 'pointerdown':\n            if (ReactImageLightbox.isTargetMatchImage(event.target)) {\n              this.addPointer(ReactImageLightbox.parsePointerEvent(event));\n              this.multiPointerStart(event);\n            }\n\n            break;\n\n          case 'pointermove':\n            this.multiPointerMove(event, [ReactImageLightbox.parsePointerEvent(event)]);\n            break;\n\n          case 'pointerup':\n          case 'pointercancel':\n            this.removePointer(ReactImageLightbox.parsePointerEvent(event));\n            this.multiPointerEnd(event);\n            break;\n        }\n      }\n    }\n  }, {\n    key: \"handleTouchStart\",\n    value: function handleTouchStart(event) {\n      var _this9 = this;\n\n      if (this.shouldHandleEvent(SOURCE_TOUCH) && ReactImageLightbox.isTargetMatchImage(event.target)) {\n        [].forEach.call(event.changedTouches, function (eventTouch) {\n          return _this9.addPointer(ReactImageLightbox.parseTouchPointer(eventTouch));\n        });\n        this.multiPointerStart(event);\n      }\n    }\n  }, {\n    key: \"handleTouchMove\",\n    value: function handleTouchMove(event) {\n      if (this.shouldHandleEvent(SOURCE_TOUCH)) {\n        this.multiPointerMove(event, [].map.call(event.changedTouches, function (eventTouch) {\n          return ReactImageLightbox.parseTouchPointer(eventTouch);\n        }));\n      }\n    }\n  }, {\n    key: \"handleTouchEnd\",\n    value: function handleTouchEnd(event) {\n      var _this10 = this;\n\n      if (this.shouldHandleEvent(SOURCE_TOUCH)) {\n        [].map.call(event.changedTouches, function (touch) {\n          return _this10.removePointer(ReactImageLightbox.parseTouchPointer(touch));\n        });\n        this.multiPointerEnd(event);\n      }\n    }\n  }, {\n    key: \"decideMoveOrSwipe\",\n    value: function decideMoveOrSwipe(pointer) {\n      if (this.state.zoomLevel <= MIN_ZOOM_LEVEL) {\n        this.handleSwipeStart(pointer);\n      } else {\n        this.handleMoveStart(pointer);\n      }\n    }\n  }, {\n    key: \"multiPointerStart\",\n    value: function multiPointerStart(event) {\n      this.handleEnd(null);\n\n      switch (this.pointerList.length) {\n        case 1:\n          {\n            event.preventDefault();\n            this.decideMoveOrSwipe(this.pointerList[0]);\n            break;\n          }\n\n        case 2:\n          {\n            event.preventDefault();\n            this.handlePinchStart(this.pointerList);\n            break;\n          }\n      }\n    }\n  }, {\n    key: \"multiPointerMove\",\n    value: function multiPointerMove(event, pointerList) {\n      switch (this.currentAction) {\n        case ACTION_MOVE:\n          {\n            event.preventDefault();\n            this.handleMove(pointerList[0]);\n            break;\n          }\n\n        case ACTION_SWIPE:\n          {\n            event.preventDefault();\n            this.handleSwipe(pointerList[0]);\n            break;\n          }\n\n        case ACTION_PINCH:\n          {\n            event.preventDefault();\n            this.handlePinch(pointerList);\n            break;\n          }\n      }\n    }\n  }, {\n    key: \"multiPointerEnd\",\n    value: function multiPointerEnd(event) {\n      if (this.currentAction !== ACTION_NONE) {\n        this.setPreventInnerClose();\n        this.handleEnd(event);\n      }\n\n      switch (this.pointerList.length) {\n        case 0:\n          {\n            this.eventsSource = SOURCE_ANY;\n            break;\n          }\n\n        case 1:\n          {\n            event.preventDefault();\n            this.decideMoveOrSwipe(this.pointerList[0]);\n            break;\n          }\n\n        case 2:\n          {\n            event.preventDefault();\n            this.handlePinchStart(this.pointerList);\n            break;\n          }\n      }\n    }\n  }, {\n    key: \"handleEnd\",\n    value: function handleEnd(event) {\n      switch (this.currentAction) {\n        case ACTION_MOVE:\n          this.handleMoveEnd(event);\n          break;\n\n        case ACTION_SWIPE:\n          this.handleSwipeEnd(event);\n          break;\n\n        case ACTION_PINCH:\n          this.handlePinchEnd(event);\n          break;\n      }\n    } // Handle move start over the lightbox container\n    // This happens:\n    // - On a mouseDown event\n    // - On a touchstart event\n\n  }, {\n    key: \"handleMoveStart\",\n    value: function handleMoveStart(_ref4) {\n      var clientX = _ref4.x,\n          clientY = _ref4.y;\n\n      if (!this.props.enableZoom) {\n        return;\n      }\n\n      this.currentAction = ACTION_MOVE;\n      this.moveStartX = clientX;\n      this.moveStartY = clientY;\n      this.moveStartOffsetX = this.state.offsetX;\n      this.moveStartOffsetY = this.state.offsetY;\n    } // Handle dragging over the lightbox container\n    // This happens:\n    // - After a mouseDown and before a mouseUp event\n    // - After a touchstart and before a touchend event\n\n  }, {\n    key: \"handleMove\",\n    value: function handleMove(_ref5) {\n      var clientX = _ref5.x,\n          clientY = _ref5.y;\n      var newOffsetX = this.moveStartX - clientX + this.moveStartOffsetX;\n      var newOffsetY = this.moveStartY - clientY + this.moveStartOffsetY;\n\n      if (this.state.offsetX !== newOffsetX || this.state.offsetY !== newOffsetY) {\n        this.setState({\n          offsetX: newOffsetX,\n          offsetY: newOffsetY\n        });\n      }\n    }\n  }, {\n    key: \"handleMoveEnd\",\n    value: function handleMoveEnd() {\n      var _this11 = this;\n\n      this.currentAction = ACTION_NONE;\n      this.moveStartX = 0;\n      this.moveStartY = 0;\n      this.moveStartOffsetX = 0;\n      this.moveStartOffsetY = 0; // Snap image back into frame if outside max offset range\n\n      var maxOffsets = this.getMaxOffsets();\n      var nextOffsetX = Math.max(maxOffsets.minX, Math.min(maxOffsets.maxX, this.state.offsetX));\n      var nextOffsetY = Math.max(maxOffsets.minY, Math.min(maxOffsets.maxY, this.state.offsetY));\n\n      if (nextOffsetX !== this.state.offsetX || nextOffsetY !== this.state.offsetY) {\n        this.setState({\n          offsetX: nextOffsetX,\n          offsetY: nextOffsetY,\n          shouldAnimate: true\n        });\n        this.setTimeout(function () {\n          _this11.setState({\n            shouldAnimate: false\n          });\n        }, this.props.animationDuration);\n      }\n    }\n  }, {\n    key: \"handleSwipeStart\",\n    value: function handleSwipeStart(_ref6) {\n      var clientX = _ref6.x,\n          clientY = _ref6.y;\n      this.currentAction = ACTION_SWIPE;\n      this.swipeStartX = clientX;\n      this.swipeStartY = clientY;\n      this.swipeEndX = clientX;\n      this.swipeEndY = clientY;\n    }\n  }, {\n    key: \"handleSwipe\",\n    value: function handleSwipe(_ref7) {\n      var clientX = _ref7.x,\n          clientY = _ref7.y;\n      this.swipeEndX = clientX;\n      this.swipeEndY = clientY;\n    }\n  }, {\n    key: \"handleSwipeEnd\",\n    value: function handleSwipeEnd(event) {\n      var xDiff = this.swipeEndX - this.swipeStartX;\n      var xDiffAbs = Math.abs(xDiff);\n      var yDiffAbs = Math.abs(this.swipeEndY - this.swipeStartY);\n      this.currentAction = ACTION_NONE;\n      this.swipeStartX = 0;\n      this.swipeStartY = 0;\n      this.swipeEndX = 0;\n      this.swipeEndY = 0;\n\n      if (!event || this.isAnimating() || xDiffAbs < yDiffAbs * 1.5) {\n        return;\n      }\n\n      if (xDiffAbs < MIN_SWIPE_DISTANCE) {\n        var boxRect = this.getLightboxRect();\n\n        if (xDiffAbs < boxRect.width / 4) {\n          return;\n        }\n      }\n\n      if (xDiff > 0 && this.props.prevSrc) {\n        event.preventDefault();\n        this.requestMovePrev();\n      } else if (xDiff < 0 && this.props.nextSrc) {\n        event.preventDefault();\n        this.requestMoveNext();\n      }\n    }\n  }, {\n    key: \"calculatePinchDistance\",\n    value: function calculatePinchDistance() {\n      var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.pinchTouchList,\n          _ref9 = _slicedToArray(_ref8, 2),\n          a = _ref9[0],\n          b = _ref9[1];\n\n      return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n    }\n  }, {\n    key: \"calculatePinchCenter\",\n    value: function calculatePinchCenter() {\n      var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.pinchTouchList,\n          _ref11 = _slicedToArray(_ref10, 2),\n          a = _ref11[0],\n          b = _ref11[1];\n\n      return {\n        x: a.x - (a.x - b.x) / 2,\n        y: a.y - (a.y - b.y) / 2\n      };\n    }\n  }, {\n    key: \"handlePinchStart\",\n    value: function handlePinchStart(pointerList) {\n      if (!this.props.enableZoom) {\n        return;\n      }\n\n      this.currentAction = ACTION_PINCH;\n      this.pinchTouchList = pointerList.map(function (_ref12) {\n        var id = _ref12.id,\n            x = _ref12.x,\n            y = _ref12.y;\n        return {\n          id: id,\n          x: x,\n          y: y\n        };\n      });\n      this.pinchDistance = this.calculatePinchDistance();\n    }\n  }, {\n    key: \"handlePinch\",\n    value: function handlePinch(pointerList) {\n      this.pinchTouchList = this.pinchTouchList.map(function (oldPointer) {\n        for (var i = 0; i < pointerList.length; i += 1) {\n          if (pointerList[i].id === oldPointer.id) {\n            return pointerList[i];\n          }\n        }\n\n        return oldPointer;\n      });\n      var newDistance = this.calculatePinchDistance();\n      var zoomLevel = this.state.zoomLevel + newDistance - this.pinchDistance;\n      this.pinchDistance = newDistance;\n\n      var _this$calculatePinchC = this.calculatePinchCenter(this.pinchTouchList),\n          clientX = _this$calculatePinchC.x,\n          clientY = _this$calculatePinchC.y;\n\n      this.changeZoom(zoomLevel, clientX, clientY);\n    }\n  }, {\n    key: \"handlePinchEnd\",\n    value: function handlePinchEnd() {\n      this.currentAction = ACTION_NONE;\n      this.pinchTouchList = null;\n      this.pinchDistance = 0;\n    } // Handle the window resize event\n\n  }, {\n    key: \"handleWindowResize\",\n    value: function handleWindowResize() {\n      this.clearTimeout(this.resizeTimeout);\n      this.resizeTimeout = this.setTimeout(this.forceUpdate.bind(this), 100);\n    }\n  }, {\n    key: \"handleZoomInButtonClick\",\n    value: function handleZoomInButtonClick() {\n      var nextZoomLevel = this.state.zoomLevel + ZOOM_BUTTON_INCREMENT_SIZE;\n      this.changeZoom(nextZoomLevel);\n\n      if (nextZoomLevel === MAX_ZOOM_LEVEL) {\n        this.zoomOutBtn.current.focus();\n      }\n    }\n  }, {\n    key: \"handleZoomOutButtonClick\",\n    value: function handleZoomOutButtonClick() {\n      var nextZoomLevel = this.state.zoomLevel - ZOOM_BUTTON_INCREMENT_SIZE;\n      this.changeZoom(nextZoomLevel);\n\n      if (nextZoomLevel === MIN_ZOOM_LEVEL) {\n        this.zoomInBtn.current.focus();\n      }\n    }\n  }, {\n    key: \"handleCaptionMousewheel\",\n    value: function handleCaptionMousewheel(event) {\n      event.stopPropagation();\n\n      if (!this.caption.current) {\n        return;\n      }\n\n      var _this$caption$current = this.caption.current.getBoundingClientRect(),\n          height = _this$caption$current.height;\n\n      var _this$caption$current2 = this.caption.current,\n          scrollHeight = _this$caption$current2.scrollHeight,\n          scrollTop = _this$caption$current2.scrollTop;\n\n      if (event.deltaY > 0 && height + scrollTop >= scrollHeight || event.deltaY < 0 && scrollTop <= 0) {\n        event.preventDefault();\n      }\n    } // Detach key and mouse input events\n\n  }, {\n    key: \"isAnimating\",\n    value: function isAnimating() {\n      return this.state.shouldAnimate || this.state.isClosing;\n    } // Check if image is loaded\n\n  }, {\n    key: \"isImageLoaded\",\n    value: function isImageLoaded(imageSrc) {\n      return imageSrc && imageSrc in this.imageCache && this.imageCache[imageSrc].loaded;\n    } // Load image from src and call callback with image width and height on load\n\n  }, {\n    key: \"loadImage\",\n    value: function loadImage(srcType, imageSrc, done) {\n      var _this12 = this;\n\n      // Return the image info if it is already cached\n      if (this.isImageLoaded(imageSrc)) {\n        this.setTimeout(function () {\n          done();\n        }, 1);\n        return;\n      }\n\n      var inMemoryImage = new global.Image();\n\n      if (this.props.imageCrossOrigin) {\n        inMemoryImage.crossOrigin = this.props.imageCrossOrigin;\n      }\n\n      inMemoryImage.onerror = function (errorEvent) {\n        _this12.props.onImageLoadError(imageSrc, srcType, errorEvent); // failed to load so set the state loadErrorStatus\n\n\n        _this12.setState(function (prevState) {\n          return {\n            loadErrorStatus: _objectSpread({}, prevState.loadErrorStatus, _defineProperty({}, srcType, true))\n          };\n        });\n\n        done(errorEvent);\n      };\n\n      inMemoryImage.onload = function () {\n        _this12.props.onImageLoad(imageSrc, srcType, inMemoryImage);\n\n        _this12.imageCache[imageSrc] = {\n          loaded: true,\n          width: inMemoryImage.width,\n          height: inMemoryImage.height\n        };\n        done();\n      };\n\n      inMemoryImage.src = imageSrc;\n    } // Load all images and their thumbnails\n\n  }, {\n    key: \"loadAllImages\",\n    value: function loadAllImages() {\n      var _this13 = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n      var generateLoadDoneCallback = function generateLoadDoneCallback(srcType, imageSrc) {\n        return function (err) {\n          // Give up showing image on error\n          if (err) {\n            return;\n          } // Don't rerender if the src is not the same as when the load started\n          // or if the component has unmounted\n\n\n          if (_this13.props[srcType] !== imageSrc || _this13.didUnmount) {\n            return;\n          } // Force rerender with the new image\n\n\n          _this13.forceUpdate();\n        };\n      }; // Load the images\n\n\n      this.getSrcTypes().forEach(function (srcType) {\n        var type = srcType.name; // there is no error when we try to load it initially\n\n        if (props[type] && _this13.state.loadErrorStatus[type]) {\n          _this13.setState(function (prevState) {\n            return {\n              loadErrorStatus: _objectSpread({}, prevState.loadErrorStatus, _defineProperty({}, type, false))\n            };\n          });\n        } // Load unloaded images\n\n\n        if (props[type] && !_this13.isImageLoaded(props[type])) {\n          _this13.loadImage(type, props[type], generateLoadDoneCallback(type, props[type]));\n        }\n      });\n    } // Request that the lightbox be closed\n\n  }, {\n    key: \"requestClose\",\n    value: function requestClose(event) {\n      var _this14 = this;\n\n      // Call the parent close request\n      var closeLightbox = function closeLightbox() {\n        return _this14.props.onCloseRequest(event);\n      };\n\n      if (this.props.animationDisabled || event.type === 'keydown' && !this.props.animationOnKeyInput) {\n        // No animation\n        closeLightbox();\n        return;\n      } // With animation\n      // Start closing animation\n\n\n      this.setState({\n        isClosing: true\n      }); // Perform the actual closing at the end of the animation\n\n      this.setTimeout(closeLightbox, this.props.animationDuration);\n    }\n  }, {\n    key: \"requestMove\",\n    value: function requestMove(direction, event) {\n      var _this15 = this;\n\n      // Reset the zoom level on image move\n      var nextState = {\n        zoomLevel: MIN_ZOOM_LEVEL,\n        offsetX: 0,\n        offsetY: 0\n      }; // Enable animated states\n\n      if (!this.props.animationDisabled && (!this.keyPressed || this.props.animationOnKeyInput)) {\n        nextState.shouldAnimate = true;\n        this.setTimeout(function () {\n          return _this15.setState({\n            shouldAnimate: false\n          });\n        }, this.props.animationDuration);\n      }\n\n      this.keyPressed = false;\n      this.moveRequested = true;\n\n      if (direction === 'prev') {\n        this.keyCounter -= 1;\n        this.setState(nextState);\n        this.props.onMovePrevRequest(event);\n      } else {\n        this.keyCounter += 1;\n        this.setState(nextState);\n        this.props.onMoveNextRequest(event);\n      }\n    } // Request to transition to the next image\n\n  }, {\n    key: \"requestMoveNext\",\n    value: function requestMoveNext(event) {\n      this.requestMove('next', event);\n    } // Request to transition to the previous image\n\n  }, {\n    key: \"requestMovePrev\",\n    value: function requestMovePrev(event) {\n      this.requestMove('prev', event);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this16 = this;\n\n      var _this$props = this.props,\n          animationDisabled = _this$props.animationDisabled,\n          animationDuration = _this$props.animationDuration,\n          clickOutsideToClose = _this$props.clickOutsideToClose,\n          discourageDownloads = _this$props.discourageDownloads,\n          enableZoom = _this$props.enableZoom,\n          imageTitle = _this$props.imageTitle,\n          nextSrc = _this$props.nextSrc,\n          prevSrc = _this$props.prevSrc,\n          toolbarButtons = _this$props.toolbarButtons,\n          reactModalStyle = _this$props.reactModalStyle,\n          _onAfterOpen = _this$props.onAfterOpen,\n          imageCrossOrigin = _this$props.imageCrossOrigin,\n          reactModalProps = _this$props.reactModalProps;\n      var _this$state = this.state,\n          zoomLevel = _this$state.zoomLevel,\n          offsetX = _this$state.offsetX,\n          offsetY = _this$state.offsetY,\n          isClosing = _this$state.isClosing,\n          loadErrorStatus = _this$state.loadErrorStatus;\n      var boxSize = this.getLightboxRect();\n      var transitionStyle = {}; // Transition settings for sliding animations\n\n      if (!animationDisabled && this.isAnimating()) {\n        transitionStyle = _objectSpread({}, transitionStyle, {\n          transition: \"transform \".concat(animationDuration, \"ms\")\n        });\n      } // Key endings to differentiate between images with the same src\n\n\n      var keyEndings = {};\n      this.getSrcTypes().forEach(function (_ref13) {\n        var name = _ref13.name,\n            keyEnding = _ref13.keyEnding;\n        keyEndings[name] = keyEnding;\n      }); // Images to be displayed\n\n      var images = [];\n\n      var addImage = function addImage(srcType, imageClass, transforms) {\n        // Ignore types that have no source defined for their full size image\n        if (!_this16.props[srcType]) {\n          return;\n        }\n\n        var bestImageInfo = _this16.getBestImageForType(srcType);\n\n        var imageStyle = _objectSpread({}, transitionStyle, ReactImageLightbox.getTransform(_objectSpread({}, transforms, bestImageInfo)));\n\n        if (zoomLevel > MIN_ZOOM_LEVEL) {\n          imageStyle.cursor = 'move';\n        } // support IE 9 and 11\n\n\n        var hasTrueValue = function hasTrueValue(object) {\n          return Object.keys(object).some(function (key) {\n            return object[key];\n          });\n        }; // when error on one of the loads then push custom error stuff\n\n\n        if (bestImageInfo === null && hasTrueValue(loadErrorStatus)) {\n          images.push(React.createElement(\"div\", {\n            className: \"\".concat(imageClass, \" ril__image ril-errored\"),\n            style: imageStyle,\n            key: _this16.props[srcType] + keyEndings[srcType]\n          }, React.createElement(\"div\", {\n            className: \"ril__errorContainer\"\n          }, _this16.props.imageLoadErrorMessage)));\n          return;\n        }\n\n        if (bestImageInfo === null) {\n          var loadingIcon = React.createElement(\"div\", {\n            className: \"ril-loading-circle ril__loadingCircle ril__loadingContainer__icon\"\n          }, _toConsumableArray(new Array(12)).map(function (_, index) {\n            return React.createElement(\"div\", {\n              // eslint-disable-next-line react/no-array-index-key\n              key: index,\n              className: \"ril-loading-circle-point ril__loadingCirclePoint\"\n            });\n          })); // Fall back to loading icon if the thumbnail has not been loaded\n\n          images.push(React.createElement(\"div\", {\n            className: \"\".concat(imageClass, \" ril__image ril-not-loaded\"),\n            style: imageStyle,\n            key: _this16.props[srcType] + keyEndings[srcType]\n          }, React.createElement(\"div\", {\n            className: \"ril__loadingContainer\"\n          }, loadingIcon)));\n          return;\n        }\n\n        var imageSrc = bestImageInfo.src;\n\n        if (discourageDownloads) {\n          imageStyle.backgroundImage = \"url('\".concat(imageSrc, \"')\");\n          images.push(React.createElement(\"div\", {\n            className: \"\".concat(imageClass, \" ril__image ril__imageDiscourager\"),\n            onDoubleClick: _this16.handleImageDoubleClick,\n            onWheel: _this16.handleImageMouseWheel,\n            style: imageStyle,\n            key: imageSrc + keyEndings[srcType]\n          }, React.createElement(\"div\", {\n            className: \"ril-download-blocker ril__downloadBlocker\"\n          })));\n        } else {\n          images.push(React.createElement(\"img\", _extends({}, imageCrossOrigin ? {\n            crossOrigin: imageCrossOrigin\n          } : {}, {\n            className: \"\".concat(imageClass, \" ril__image\"),\n            onDoubleClick: _this16.handleImageDoubleClick,\n            onWheel: _this16.handleImageMouseWheel,\n            onDragStart: function onDragStart(e) {\n              return e.preventDefault();\n            },\n            style: imageStyle,\n            src: imageSrc,\n            key: imageSrc + keyEndings[srcType],\n            alt: typeof imageTitle === 'string' ? imageTitle : translate('Image'),\n            draggable: false\n          })));\n        }\n      };\n\n      var zoomMultiplier = this.getZoomMultiplier(); // Next Image (displayed on the right)\n\n      addImage('nextSrc', 'ril-image-next ril__imageNext', {\n        x: boxSize.width\n      }); // Main Image\n\n      addImage('mainSrc', 'ril-image-current', {\n        x: -1 * offsetX,\n        y: -1 * offsetY,\n        zoom: zoomMultiplier\n      }); // Previous Image (displayed on the left)\n\n      addImage('prevSrc', 'ril-image-prev ril__imagePrev', {\n        x: -1 * boxSize.width\n      });\n      var modalStyle = {\n        overlay: _objectSpread({\n          zIndex: 1000,\n          backgroundColor: 'transparent'\n        }, reactModalStyle.overlay),\n        content: _objectSpread({\n          backgroundColor: 'transparent',\n          overflow: 'hidden',\n          // Needed, otherwise keyboard shortcuts scroll the page\n          border: 'none',\n          borderRadius: 0,\n          padding: 0,\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0\n        }, reactModalStyle.content)\n      };\n      return React.createElement(Modal, _extends({\n        isOpen: true,\n        onRequestClose: clickOutsideToClose ? this.requestClose : undefined,\n        onAfterOpen: function onAfterOpen() {\n          // Focus on the div with key handlers\n          if (_this16.outerEl.current) {\n            _this16.outerEl.current.focus();\n          }\n\n          _onAfterOpen();\n        },\n        style: modalStyle,\n        contentLabel: translate('Lightbox'),\n        appElement: typeof global.window !== 'undefined' ? global.window.document.body : undefined\n      }, reactModalProps), React.createElement(\"div\", {\n        // eslint-disable-line jsx-a11y/no-static-element-interactions\n        // Floating modal with closing animations\n        className: \"ril-outer ril__outer ril__outerAnimating \".concat(this.props.wrapperClassName, \" \").concat(isClosing ? 'ril-closing ril__outerClosing' : ''),\n        style: {\n          transition: \"opacity \".concat(animationDuration, \"ms\"),\n          animationDuration: \"\".concat(animationDuration, \"ms\"),\n          animationDirection: isClosing ? 'normal' : 'reverse'\n        },\n        ref: this.outerEl,\n        onWheel: this.handleOuterMousewheel,\n        onMouseMove: this.handleMouseMove,\n        onMouseDown: this.handleMouseDown,\n        onTouchStart: this.handleTouchStart,\n        onTouchMove: this.handleTouchMove,\n        tabIndex: \"-1\" // Enables key handlers on div\n        ,\n        onKeyDown: this.handleKeyInput,\n        onKeyUp: this.handleKeyInput\n      }, React.createElement(\"div\", {\n        // eslint-disable-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events\n        // Image holder\n        className: \"ril-inner ril__inner\",\n        onClick: clickOutsideToClose ? this.closeIfClickInner : undefined\n      }, images), prevSrc && React.createElement(\"button\", {\n        // Move to previous image button\n        type: \"button\",\n        className: \"ril-prev-button ril__navButtons ril__navButtonPrev\",\n        key: \"prev\",\n        \"aria-label\": this.props.prevLabel,\n        onClick: !this.isAnimating() ? this.requestMovePrev : undefined // Ignore clicks during animation\n\n      }), nextSrc && React.createElement(\"button\", {\n        // Move to next image button\n        type: \"button\",\n        className: \"ril-next-button ril__navButtons ril__navButtonNext\",\n        key: \"next\",\n        \"aria-label\": this.props.nextLabel,\n        onClick: !this.isAnimating() ? this.requestMoveNext : undefined // Ignore clicks during animation\n\n      }), React.createElement(\"div\", {\n        // Lightbox toolbar\n        className: \"ril-toolbar ril__toolbar\"\n      }, React.createElement(\"ul\", {\n        className: \"ril-toolbar-left ril__toolbarSide ril__toolbarLeftSide\"\n      }, React.createElement(\"li\", {\n        className: \"ril-toolbar__item ril__toolbarItem\"\n      }, React.createElement(\"span\", {\n        className: \"ril-toolbar__item__child ril__toolbarItemChild\"\n      }, imageTitle))), React.createElement(\"ul\", {\n        className: \"ril-toolbar-right ril__toolbarSide ril__toolbarRightSide\"\n      }, toolbarButtons && toolbarButtons.map(function (button, i) {\n        return React.createElement(\"li\", {\n          key: \"button_\".concat(i + 1),\n          className: \"ril-toolbar__item ril__toolbarItem\"\n        }, button);\n      }), enableZoom && React.createElement(\"li\", {\n        className: \"ril-toolbar__item ril__toolbarItem\"\n      }, React.createElement(\"button\", {\n        // Lightbox zoom in button\n        type: \"button\",\n        key: \"zoom-in\",\n        \"aria-label\": this.props.zoomInLabel,\n        className: ['ril-zoom-in', 'ril__toolbarItemChild', 'ril__builtinButton', 'ril__zoomInButton'].concat(_toConsumableArray(zoomLevel === MAX_ZOOM_LEVEL ? ['ril__builtinButtonDisabled'] : [])).join(' '),\n        ref: this.zoomInBtn,\n        disabled: this.isAnimating() || zoomLevel === MAX_ZOOM_LEVEL,\n        onClick: !this.isAnimating() && zoomLevel !== MAX_ZOOM_LEVEL ? this.handleZoomInButtonClick : undefined\n      })), enableZoom && React.createElement(\"li\", {\n        className: \"ril-toolbar__item ril__toolbarItem\"\n      }, React.createElement(\"button\", {\n        // Lightbox zoom out button\n        type: \"button\",\n        key: \"zoom-out\",\n        \"aria-label\": this.props.zoomOutLabel,\n        className: ['ril-zoom-out', 'ril__toolbarItemChild', 'ril__builtinButton', 'ril__zoomOutButton'].concat(_toConsumableArray(zoomLevel === MIN_ZOOM_LEVEL ? ['ril__builtinButtonDisabled'] : [])).join(' '),\n        ref: this.zoomOutBtn,\n        disabled: this.isAnimating() || zoomLevel === MIN_ZOOM_LEVEL,\n        onClick: !this.isAnimating() && zoomLevel !== MIN_ZOOM_LEVEL ? this.handleZoomOutButtonClick : undefined\n      })), React.createElement(\"li\", {\n        className: \"ril-toolbar__item ril__toolbarItem\"\n      }, React.createElement(\"button\", {\n        // Lightbox close button\n        type: \"button\",\n        key: \"close\",\n        \"aria-label\": this.props.closeLabel,\n        className: \"ril-close ril-toolbar__item__child ril__toolbarItemChild ril__builtinButton ril__closeButton\",\n        onClick: !this.isAnimating() ? this.requestClose : undefined // Ignore clicks during animation\n\n      })))), this.props.imageCaption && // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n      React.createElement(\"div\", {\n        // Image caption\n        onWheel: this.handleCaptionMousewheel,\n        onMouseDown: function onMouseDown(event) {\n          return event.stopPropagation();\n        },\n        className: \"ril-caption ril__caption\",\n        ref: this.caption\n      }, React.createElement(\"div\", {\n        className: \"ril-caption-content ril__captionContent\"\n      }, this.props.imageCaption))));\n    }\n  }]);\n\n  return ReactImageLightbox;\n}(Component);\n\nReactImageLightbox.propTypes = {\n  //-----------------------------\n  // Image sources\n  //-----------------------------\n  // Main display image url\n  mainSrc: PropTypes.string.isRequired,\n  // eslint-disable-line react/no-unused-prop-types\n  // Previous display image url (displayed to the left)\n  // If left undefined, movePrev actions will not be performed, and the button not displayed\n  prevSrc: PropTypes.string,\n  // Next display image url (displayed to the right)\n  // If left undefined, moveNext actions will not be performed, and the button not displayed\n  nextSrc: PropTypes.string,\n  //-----------------------------\n  // Image thumbnail sources\n  //-----------------------------\n  // Thumbnail image url corresponding to props.mainSrc\n  mainSrcThumbnail: PropTypes.string,\n  // eslint-disable-line react/no-unused-prop-types\n  // Thumbnail image url corresponding to props.prevSrc\n  prevSrcThumbnail: PropTypes.string,\n  // eslint-disable-line react/no-unused-prop-types\n  // Thumbnail image url corresponding to props.nextSrc\n  nextSrcThumbnail: PropTypes.string,\n  // eslint-disable-line react/no-unused-prop-types\n  //-----------------------------\n  // Event Handlers\n  //-----------------------------\n  // Close window event\n  // Should change the parent state such that the lightbox is not rendered\n  onCloseRequest: PropTypes.func.isRequired,\n  // Move to previous image event\n  // Should change the parent state such that props.prevSrc becomes props.mainSrc,\n  //  props.mainSrc becomes props.nextSrc, etc.\n  onMovePrevRequest: PropTypes.func,\n  // Move to next image event\n  // Should change the parent state such that props.nextSrc becomes props.mainSrc,\n  //  props.mainSrc becomes props.prevSrc, etc.\n  onMoveNextRequest: PropTypes.func,\n  // Called when an image fails to load\n  // (imageSrc: string, srcType: string, errorEvent: object): void\n  onImageLoadError: PropTypes.func,\n  // Called when image successfully loads\n  onImageLoad: PropTypes.func,\n  // Open window event\n  onAfterOpen: PropTypes.func,\n  //-----------------------------\n  // Download discouragement settings\n  //-----------------------------\n  // Enable download discouragement (prevents [right-click -> Save Image As...])\n  discourageDownloads: PropTypes.bool,\n  //-----------------------------\n  // Animation settings\n  //-----------------------------\n  // Disable all animation\n  animationDisabled: PropTypes.bool,\n  // Disable animation on actions performed with keyboard shortcuts\n  animationOnKeyInput: PropTypes.bool,\n  // Animation duration (ms)\n  animationDuration: PropTypes.number,\n  //-----------------------------\n  // Keyboard shortcut settings\n  //-----------------------------\n  // Required interval of time (ms) between key actions\n  // (prevents excessively fast navigation of images)\n  keyRepeatLimit: PropTypes.number,\n  // Amount of time (ms) restored after each keyup\n  // (makes rapid key presses slightly faster than holding down the key to navigate images)\n  keyRepeatKeyupBonus: PropTypes.number,\n  //-----------------------------\n  // Image info\n  //-----------------------------\n  // Image title\n  imageTitle: PropTypes.node,\n  // Image caption\n  imageCaption: PropTypes.node,\n  // Optional crossOrigin attribute\n  imageCrossOrigin: PropTypes.string,\n  //-----------------------------\n  // Lightbox style\n  //-----------------------------\n  // Set z-index style, etc., for the parent react-modal (format: https://github.com/reactjs/react-modal#styles )\n  reactModalStyle: PropTypes.shape({}),\n  // Padding (px) between the edge of the window and the lightbox\n  imagePadding: PropTypes.number,\n  wrapperClassName: PropTypes.string,\n  //-----------------------------\n  // Other\n  //-----------------------------\n  // Array of custom toolbar buttons\n  toolbarButtons: PropTypes.arrayOf(PropTypes.node),\n  // When true, clicks outside of the image close the lightbox\n  clickOutsideToClose: PropTypes.bool,\n  // Set to false to disable zoom functionality and hide zoom buttons\n  enableZoom: PropTypes.bool,\n  // Override props set on react-modal (https://github.com/reactjs/react-modal)\n  reactModalProps: PropTypes.shape({}),\n  // Aria-labels\n  nextLabel: PropTypes.string,\n  prevLabel: PropTypes.string,\n  zoomInLabel: PropTypes.string,\n  zoomOutLabel: PropTypes.string,\n  closeLabel: PropTypes.string,\n  imageLoadErrorMessage: PropTypes.node\n};\nReactImageLightbox.defaultProps = {\n  imageTitle: null,\n  imageCaption: null,\n  toolbarButtons: null,\n  reactModalProps: {},\n  animationDisabled: false,\n  animationDuration: 300,\n  animationOnKeyInput: false,\n  clickOutsideToClose: true,\n  closeLabel: 'Close lightbox',\n  discourageDownloads: false,\n  enableZoom: true,\n  imagePadding: 10,\n  imageCrossOrigin: null,\n  keyRepeatKeyupBonus: 40,\n  keyRepeatLimit: 180,\n  mainSrcThumbnail: null,\n  nextLabel: 'Next image',\n  nextSrc: null,\n  nextSrcThumbnail: null,\n  onAfterOpen: function onAfterOpen() {},\n  onImageLoadError: function onImageLoadError() {},\n  onImageLoad: function onImageLoad() {},\n  onMoveNextRequest: function onMoveNextRequest() {},\n  onMovePrevRequest: function onMovePrevRequest() {},\n  prevLabel: 'Previous image',\n  prevSrc: null,\n  prevSrcThumbnail: null,\n  reactModalStyle: {},\n  wrapperClassName: '',\n  zoomInLabel: 'Zoom in',\n  zoomOutLabel: 'Zoom out',\n  imageLoadErrorMessage: 'This image failed to load'\n};\n\nexport default ReactImageLightbox;\n","import styled from 'styled-components'\n\nconst Row = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin-right: -15px;\n  margin-left: -15px;\n`\nexport default Row\n","import styled, { css } from 'styled-components'\nimport PropTypes from 'prop-types'\n\nconst Col = styled.div`\n  flex-grow: 0;\n  flex-shrink: 0;\n  ${(props) => {\n    return css`\n      flex-basis: ${props.width}%;\n      max-width: ${props.width}%;\n    `\n  }}\n\n  @media (min-width: 576px) {\n    ${(props) => {\n      return css`\n        flex-basis: ${props.md}%;\n        max-width: ${props.md}%;\n      `\n    }}\n  }\n`\n\nCol.propTypes = {\n  width: PropTypes.number.isRequired,\n  md: PropTypes.number.isRequired,\n}\n\nexport default Col\n","import styled from 'styled-components'\n\nconst ImgWrapper = styled.div`\n  margin: ${(props) => props.margin};\n`\n\nexport default ImgWrapper\n","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport Img from 'gatsby-image'\nimport Lightbox from 'react-image-lightbox'\n\nimport Row from './row'\nimport Col from './column'\nimport ImgWrapper from './img-wrapper'\n\nimport 'react-image-lightbox/style.css'\n\nconst Gallery = ({\n  images = null,\n  thumbs = null,\n  fullImages = null,\n  colWidth = 100 / 3,\n  mdColWidth = 100 / 4,\n  gutter = '0.25rem',\n  imgClass = '',\n}) => {\n  let thumbsArray, fullArray\n  if (thumbs === null && fullImages === null) {\n    // New style with all images in one prop\n    thumbsArray = images.map(({ thumb }) => thumb)\n    fullArray = images.map(({ full }) => full.src)\n  } else {\n    // Compat with old props\n    thumbsArray = thumbs\n    if (fullImages === null && images !== null) {\n      console.warn(\n        `Using the images props with thumbs is deprecated and will not \n        be supported in the next major version. \n        \n        If you need to pass 2 arrays separately, use the new prop \"fullImages\" \n        instead, which works exactly the same way as \"images\" used to. \n        \n        It's recommended to pass all images as a single array in the \"images\"\n        prop instead.`\n      )\n      fullArray = images\n    } else {\n      fullArray = fullImages\n    }\n  }\n\n  const [index, setIndex] = useState(0)\n  const [isOpen, setIsOpen] = useState(false)\n\n  const prevIndex = index - (1 % fullArray.length)\n  const nextIndex = (index + fullArray.length + 1) % fullArray.length\n\n  return (\n    <React.Fragment>\n      <Row>\n        {thumbsArray.map((thumbnail, thumbIndex) => {\n          return (\n            <Col\n              width={colWidth}\n              md={mdColWidth}\n              key={thumbIndex}\n              onClick={() => {\n                setIsOpen(true)\n                setIndex(thumbIndex)\n              }}\n            >\n              <ImgWrapper margin={gutter}>\n                <Img fluid={thumbnail} className={imgClass} />\n              </ImgWrapper>\n            </Col>\n          )\n        })}\n      </Row>\n      {isOpen && (\n        <Lightbox\n          mainSrc={fullArray[index]}\n          nextSrc={fullArray[nextIndex]}\n          prevSrc={fullArray[prevIndex]}\n          onCloseRequest={() => setIsOpen(false)}\n          onMovePrevRequest={() => setIndex(prevIndex)}\n          onMoveNextRequest={() => setIndex(nextIndex)}\n          imageLoadErrorMessage=\"Impossible de charger cette image\"\n          nextLabel=\"Image suivante\"\n          prevLabel=\"Image précédente\"\n          zoomInLabel=\"Zoomer\"\n          zoomOutLabel=\"Dézoomer\"\n          closeLabel=\"Fermer\"\n        />\n      )}\n    </React.Fragment>\n  )\n}\n\nexport default Gallery\n\nGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      full: PropTypes.object,\n      thumb: PropTypes.object,\n    })\n  ),\n  thumbs: PropTypes.array,\n  fullImages: PropTypes.array,\n  colWidth: PropTypes.number,\n  mdColWidth: PropTypes.number,\n  gutter: PropTypes.string,\n  imgClass: PropTypes.string,\n}\n"],"names":["Object","defineProperty","exports","value","findTabbableDescendants","tabbableNode","hidesContents","element","zeroSize","offsetWidth","offsetHeight","innerHTML","style","window","getComputedStyle","getPropertyValue","scrollWidth","scrollHeight","visible","parentElement","document","body","parentNode","focusable","isTabIndexNotNaN","nodeName","toLowerCase","res","test","disabled","href","tabbable","tabIndex","getAttribute","undefined","isTabIndexNaN","isNaN","slice","call","querySelectorAll","filter","module","handleBlur","handleFocus","markForFocusLater","returnFocus","popWithoutFocus","setupScopedFocus","teardownScopedFocus","_tabbable2","_interopRequireDefault","_tabbable","obj","__esModule","default","focusLaterElements","modalElement","needToFocus","setTimeout","contains","activeElement","el","focus","push","toFocus","length","pop","e","console","warn","join","addEventListener","attachEvent","removeEventListener","detachEvent","scopeTab","node","event","preventDefault","target","shiftKey","head","tail","checkSafari","exec","navigator","userAgent","isSafariDesktop","x","indexOf","__DEV__","process","env","NODE_ENV","warning","printWarning","format","args","len","arguments","Array","key","argIndex","message","replace","error","Error","condition","apply","concat","canUseDOM","createElement","ExecutionEnvironment","canUseWorkers","Worker","canUseEventListeners","canUseViewport","screen","_exenv2","_exenv","EE","SafeHTMLElement","HTMLElement","assertNodeList","setElement","validateElement","hide","show","documentNotReadyOrSSRTesting","resetForTesting","_warning2","_warning","globalElement","nodeList","selector","useElement","_safeHTMLElement","appElement","setAttribute","removeAttribute","dumpClassLists","htmlClassList","docBodyClassList","classes","getElementsByTagName","className","buffer","_x","log","incrementReference","poll","decrementReference","trackClass","classListRef","forEach","add","untrackClass","remove","classString","classList","split","_classCallCheck","instance","Constructor","TypeError","PortalOpenInstances","_this","register","openInstance","openInstances","emit","deregister","index","splice","subscribe","callback","subscribers","eventType","subscriber","portalOpenInstances","_portalOpenInstances2","_portalOpenInstances","before","after","instances","focusContent","bodyTrap","position","opacity","cloneNode","firstChild","insertBefore","lastChild","appendChild","removeChild","_extends","assign","i","source","prototype","hasOwnProperty","_typeof","Symbol","iterator","constructor","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","_react2","_react","_propTypes2","_propTypes","focusManager","_interopRequireWildcard","_focusManager","_scopeTab2","_scopeTab","ariaAppHider","_ariaAppHider","_classList","_safeHTMLElement2","newObj","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","CLASS_NAMES","overlay","content","TAB_KEY","ESC_KEY","ariaHiddenInstances","ModalPortal","_Component","getPrototypeOf","setOverlayRef","overlayRef","setContentRef","contentRef","afterClose","_this$props","ariaHideApp","htmlOpenClassName","bodyOpenClassName","shouldFocusAfterRender","shouldReturnFocusAfterClose","onAfterClose","open","beforeOpen","state","afterOpen","beforeClose","clearTimeout","closeTimer","setState","isOpen","onAfterOpen","overlayEl","contentEl","close","closeTimeoutMS","closeWithTimeout","closeWithoutTimeout","contentHasFocus","closesAt","Date","now","handleKeyDown","keyCode","shouldCloseOnEsc","stopPropagation","requestClose","handleOverlayOnClick","shouldClose","shouldCloseOnOverlayClick","ownerHandlesClose","handleContentOnMouseUp","handleOverlayOnMouseDown","handleContentOnClick","handleContentOnMouseDown","onRequestClose","shouldBeClosed","buildClassName","which","additional","classNames","base","attributesFromObject","prefix","items","keys","reduce","acc","name","moveFromContentToOverlay","componentDidMount","componentDidUpdate","prevProps","prevState","componentWillUnmount","_props","render","_props2","id","overlayClassName","defaultStyles","contentStyles","overlayStyles","ref","onClick","onMouseDown","onKeyDown","onMouseUp","role","contentLabel","aria","data","testId","children","Component","defaultProps","propTypes","bool","isRequired","shape","object","oneOfType","string","instanceOf","func","number","componentWillMount","getDerivedStateFromProps","componentWillReceiveProps","nextProps","updater","bind","componentWillUpdate","nextState","__reactInternalSnapshotFlag","__reactInternalSnapshot","getSnapshotBeforeUpdate","__suppressDeprecationWarning","polyfill","isReactComponent","foundWillMountName","foundWillReceivePropsName","foundWillUpdateName","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","componentName","displayName","newApiName","componentDidUpdatePolyfill","maybeSnapshot","snapshot","_reactDom2","_reactDom","_ModalPortal2","_ModalPortal","portalClassName","isReact16","createPortal","getCreatePortal","unstable_renderSubtreeIntoContainer","getParentElement","parentSelector","Modal","_ref","_temp","_ret","_len","_key","removePortal","unmountComponentAtNode","parent","portalRef","portal","renderPortal","prevParent","nextParent","_","setAppElement","top","left","right","bottom","backgroundColor","border","background","overflow","WebkitOverflowScrolling","borderRadius","outline","padding","_reactLifecyclesCompat","_Modal2","_Modal","_defineProperties","_defineProperty","_objectSpread","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_setPrototypeOf","_getPrototypeOf","o","p","_assertThisInitialized","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","isArray","arr2","iter","toString","from","_arr","_n","_d","_e","_i","_s","next","done","err","translate","str","replaceStrings","translated","placeholder","getWindowWidth","global","innerWidth","getWindowHeight","innerHeight","getHighestSafeWindowContext","referrer","getOrigin","match","location","MIN_ZOOM_LEVEL","MAX_ZOOM_LEVEL","ZOOM_RATIO","ZOOM_BUTTON_INCREMENT_SIZE","WHEEL_MOVE_X_THRESHOLD","WHEEL_MOVE_Y_THRESHOLD","KEYS","ESC","LEFT_ARROW","RIGHT_ARROW","ACTION_NONE","ACTION_MOVE","ACTION_SWIPE","ACTION_PINCH","SOURCE_ANY","SOURCE_MOUSE","SOURCE_TOUCH","SOURCE_POINTER","MIN_SWIPE_DISTANCE","ReactImageLightbox","isTargetMatchImage","parseMouseEvent","mouseEvent","parseInt","clientX","y","clientY","parseTouchPointer","touchPointer","identifier","parsePointerEvent","pointerEvent","pointerId","getTransform","_ref$x","_ref$y","_ref$zoom","zoom","width","targetWidth","nextX","windowWidth","scaleFactor","transform","isClosing","animationDisabled","shouldAnimate","zoomLevel","offsetX","offsetY","loadErrorStatus","outerEl","React","createRef","zoomInBtn","zoomOutBtn","caption","closeIfClickInner","handleImageDoubleClick","handleImageMouseWheel","handleKeyInput","handleMouseUp","handleMouseDown","handleMouseMove","handleOuterMousewheel","handleTouchStart","handleTouchMove","handleTouchEnd","handlePointerEvent","handleCaptionMousewheel","handleWindowResize","handleZoomInButtonClick","handleZoomOutButtonClick","requestMoveNext","requestMovePrev","timeouts","currentAction","eventsSource","pointerList","preventInnerClose","preventInnerCloseTimeout","keyPressed","imageCache","lastKeyDownTime","resizeTimeout","wheelActionTimeout","resetScrollTimeout","scrollX","scrollY","moveStartX","moveStartY","moveStartOffsetX","moveStartOffsetY","swipeStartX","swipeStartY","swipeEndX","swipeEndY","pinchTouchList","pinchDistance","keyCounter","moveRequested","_this2","windowContext","listeners","resize","mouseup","touchend","touchcancel","pointerdown","pointermove","pointerup","pointercancel","type","loadAllImages","_this3","sourcesChanged","prevSrcDict","nextSrcDict","getSrcTypes","srcType","prevSrc","loaded","shouldComponentUpdate","_this4","didUnmount","tid","_setTimeout","_x2","time","_this5","setPreventInnerClose","_this6","getBestImageForType","imageSrc","fitSizes","isImageLoaded","getFitSizes","height","src","targetHeight","stretch","boxSize","getLightboxRect","maxHeight","imagePadding","maxWidth","Math","min","maxRatio","srcRatio","getMaxOffsets","currentImageInfo","maxX","minX","maxY","minY","zoomMultiplier","getZoomMultiplier","keyEnding","pow","current","getBoundingClientRect","_clearTimeout","_x3","changeZoom","enableZoom","nextZoomLevel","max","imageBaseSize","currentZoomMultiplier","nextZoomMultiplier","boxRect","pointerX","pointerY","currentImageOffsetX","currentImageOffsetY","currentImageRealOffsetX","currentImageRealOffsetY","currentPointerXRelativeToImage","currentPointerYRelativeToImage","nextImageRealOffsetX","nextImageRealOffsetY","nextImageOffsetX","nextImageOffsetY","nextOffsetX","nextOffsetY","maxOffsets","search","isAnimating","keyRepeatKeyupBonus","currentTime","getTime","keyRepeatLimit","nextSrc","_this7","xThreshold","actionDelay","imageMoveDelay","abs","deltaY","deltaX","bigLeapX","yThreshold","shouldHandleEvent","filterPointersBySource","addPointer","pointer","removePointer","_ref2","_this8","_ref3","multiPointerStart","multiPointerMove","multiPointerEnd","_this9","changedTouches","eventTouch","map","_this10","touch","decideMoveOrSwipe","handleSwipeStart","handleMoveStart","handleEnd","handlePinchStart","handleMove","handleSwipe","handlePinch","handleMoveEnd","handleSwipeEnd","handlePinchEnd","_ref4","_ref5","newOffsetX","newOffsetY","_this11","animationDuration","_ref6","_ref7","xDiff","xDiffAbs","yDiffAbs","calculatePinchDistance","_ref8","_ref9","a","b","sqrt","calculatePinchCenter","_ref10","_ref11","_ref12","oldPointer","newDistance","_this$calculatePinchC","forceUpdate","_this$caption$current","_this$caption$current2","scrollTop","loadImage","_this12","inMemoryImage","Image","imageCrossOrigin","crossOrigin","onerror","errorEvent","onImageLoadError","onload","onImageLoad","_this13","generateLoadDoneCallback","_this14","closeLightbox","onCloseRequest","animationOnKeyInput","requestMove","direction","_this15","onMovePrevRequest","onMoveNextRequest","_this16","clickOutsideToClose","discourageDownloads","imageTitle","toolbarButtons","reactModalStyle","_onAfterOpen","reactModalProps","_this$state","transitionStyle","transition","keyEndings","_ref13","images","addImage","imageClass","transforms","bestImageInfo","imageStyle","cursor","hasTrueValue","some","imageLoadErrorMessage","loadingIcon","backgroundImage","onDoubleClick","onWheel","onDragStart","alt","draggable","modalStyle","zIndex","wrapperClassName","animationDirection","onMouseMove","onTouchStart","onTouchMove","onKeyUp","prevLabel","nextLabel","button","zoomInLabel","zoomOutLabel","closeLabel","imageCaption","mainSrc","PropTypes","mainSrcThumbnail","prevSrcThumbnail","nextSrcThumbnail","arrayOf","Row","styled","div","Col","css","md","ImgWrapper","margin","Gallery","thumbs","fullImages","colWidth","mdColWidth","gutter","imgClass","thumbsArray","fullArray","thumb","full","useState","setIndex","setIsOpen","prevIndex","nextIndex","thumbnail","thumbIndex","Lightbox","array"],"mappings":"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"}